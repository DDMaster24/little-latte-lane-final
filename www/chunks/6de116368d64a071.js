;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="81eb0e94-bbb6-873b-ab5e-335b4305a031")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,738750,(e,t,a)=>{t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},87201,(e,t,a)=>{let s,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];a.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},a.getSymbolTotalCodewords=function(e){return r[e]},a.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},a.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');s=e},a.isKanjiModeEnabled=function(){return void 0!==s},a.toSJIS=function(e){return s(e)}},473133,(e,t,a)=>{a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2},a.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},a.from=function(e,t){if(a.isValid(e))return e;try{if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw Error("Unknown EC Level: "+e)}}catch(e){return t}}},173666,(e,t,a)=>{function s(){this.buffer=[],this.length=0}s.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(let a=0;a<t;a++)this.putBit((e>>>t-a-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=s},811421,(e,t,a)=>{function s(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}s.prototype.set=function(e,t,a,s){let r=e*this.size+t;this.data[r]=a,s&&(this.reservedBit[r]=!0)},s.prototype.get=function(e,t){return this.data[e*this.size+t]},s.prototype.xor=function(e,t,a){this.data[e*this.size+t]^=a},s.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=s},720637,(e,t,a)=>{let s=e.r(87201).getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];let t=Math.floor(e/7)+2,a=s(e),r=145===a?26:2*Math.ceil((a-13)/(2*t-2)),n=[a-7];for(let e=1;e<t-1;e++)n[e]=n[e-1]-r;return n.push(6),n.reverse()},a.getPositions=function(e){let t=[],s=a.getRowColCoords(e),r=s.length;for(let e=0;e<r;e++)for(let a=0;a<r;a++)(0!==e||0!==a)&&(0!==e||a!==r-1)&&(e!==r-1||0!==a)&&t.push([s[e],s[a]]);return t}},814002,(e,t,a)=>{let s=e.r(87201).getSymbolSize;a.getPositions=function(e){let t=s(e);return[[0,0],[t-7,0],[0,t-7]]}},237692,(e,t,a)=>{a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};a.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},a.from=function(e){return a.isValid(e)?parseInt(e,10):void 0},a.getPenaltyN1=function(e){let t=e.size,a=0,s=0,r=0,n=null,l=null;for(let i=0;i<t;i++){s=r=0,n=l=null;for(let c=0;c<t;c++){let t=e.get(i,c);t===n?s++:(s>=5&&(a+=3+(s-5)),n=t,s=1),(t=e.get(c,i))===l?r++:(r>=5&&(a+=3+(r-5)),l=t,r=1)}s>=5&&(a+=3+(s-5)),r>=5&&(a+=3+(r-5))}return a},a.getPenaltyN2=function(e){let t=e.size,a=0;for(let s=0;s<t-1;s++)for(let r=0;r<t-1;r++){let t=e.get(s,r)+e.get(s,r+1)+e.get(s+1,r)+e.get(s+1,r+1);(4===t||0===t)&&a++}return 3*a},a.getPenaltyN3=function(e){let t=e.size,a=0,s=0,r=0;for(let n=0;n<t;n++){s=r=0;for(let l=0;l<t;l++)s=s<<1&2047|e.get(n,l),l>=10&&(1488===s||93===s)&&a++,r=r<<1&2047|e.get(l,n),l>=10&&(1488===r||93===r)&&a++}return 40*a},a.getPenaltyN4=function(e){let t=0,a=e.data.length;for(let s=0;s<a;s++)t+=e.data[s];return 10*Math.abs(Math.ceil(100*t/a/5)-10)},a.applyMask=function(e,t){let s=t.size;for(let r=0;r<s;r++)for(let n=0;n<s;n++)t.isReserved(n,r)||t.xor(n,r,function(e,t,s){switch(e){case a.Patterns.PATTERN000:return(t+s)%2==0;case a.Patterns.PATTERN001:return t%2==0;case a.Patterns.PATTERN010:return s%3==0;case a.Patterns.PATTERN011:return(t+s)%3==0;case a.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(s/3))%2==0;case a.Patterns.PATTERN101:return t*s%2+t*s%3==0;case a.Patterns.PATTERN110:return(t*s%2+t*s%3)%2==0;case a.Patterns.PATTERN111:return(t*s%3+(t+s)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}(e,n,r))},a.getBestMask=function(e,t){let s=Object.keys(a.Patterns).length,r=0,n=1/0;for(let l=0;l<s;l++){t(l),a.applyMask(l,e);let s=a.getPenaltyN1(e)+a.getPenaltyN2(e)+a.getPenaltyN3(e)+a.getPenaltyN4(e);a.applyMask(l,e),s<n&&(n=s,r=l)}return r}},848125,(e,t,a)=>{let s=e.r(473133),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];a.getBlocksCount=function(e,t){switch(t){case s.L:return r[(e-1)*4+0];case s.M:return r[(e-1)*4+1];case s.Q:return r[(e-1)*4+2];case s.H:return r[(e-1)*4+3];default:return}},a.getTotalCodewordsCount=function(e,t){switch(t){case s.L:return n[(e-1)*4+0];case s.M:return n[(e-1)*4+1];case s.Q:return n[(e-1)*4+2];case s.H:return n[(e-1)*4+3];default:return}}},654232,(e,t,a)=>{let s=new Uint8Array(512),r=new Uint8Array(256),n=1;for(let e=0;e<255;e++)s[e]=n,r[n]=e,256&(n<<=1)&&(n^=285);for(let e=255;e<512;e++)s[e]=s[e-255];a.log=function(e){if(e<1)throw Error("log("+e+")");return r[e]},a.exp=function(e){return s[e]},a.mul=function(e,t){return 0===e||0===t?0:s[r[e]+r[t]]}},950677,(e,t,a)=>{let s=e.r(654232);a.mul=function(e,t){let a=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let n=0;n<t.length;n++)a[r+n]^=s.mul(e[r],t[n]);return a},a.mod=function(e,t){let a=new Uint8Array(e);for(;a.length-t.length>=0;){let e=a[0];for(let r=0;r<t.length;r++)a[r]^=s.mul(t[r],e);let r=0;for(;r<a.length&&0===a[r];)r++;a=a.slice(r)}return a},a.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let r=0;r<e;r++)t=a.mul(t,new Uint8Array([1,s.exp(r)]));return t}},962458,(e,t,a)=>{let s=e.r(950677);function r(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(e){this.degree=e,this.genPoly=s.generateECPolynomial(this.degree)},r.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let a=s.mod(t,this.genPoly),r=this.degree-a.length;if(r>0){let e=new Uint8Array(this.degree);return e.set(a,r),e}return a},t.exports=r},67483,(e,t,a)=>{a.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},396592,(e,t,a)=>{let s="[0-9]+",r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",n="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";a.KANJI=RegExp(r,"g"),a.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),a.BYTE=RegExp(n,"g"),a.NUMERIC=RegExp(s,"g"),a.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let l=RegExp("^"+r+"$"),i=RegExp("^"+s+"$"),c=RegExp("^[A-Z0-9 $%*+\\-./:]+$");a.testKanji=function(e){return l.test(e)},a.testNumeric=function(e){return i.test(e)},a.testAlphanumeric=function(e){return c.test(e)}},150882,(e,t,a)=>{let s=e.r(67483),r=e.r(396592);a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!s.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},a.getBestModeForData=function(e){return r.testNumeric(e)?a.NUMERIC:r.testAlphanumeric(e)?a.ALPHANUMERIC:r.testKanji(e)?a.KANJI:a.BYTE},a.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},a.isValid=function(e){return e&&e.bit&&e.ccBits},a.from=function(e,t){if(a.isValid(e))return e;try{if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw Error("Unknown mode: "+e)}}catch(e){return t}}},93547,(e,t,a)=>{let s=e.r(87201),r=e.r(848125),n=e.r(473133),l=e.r(150882),i=e.r(67483),c=s.getBCHDigit(7973);function o(e,t){return l.getCharCountIndicator(e,t)+4}a.from=function(e,t){return i.isValid(e)?parseInt(e,10):t},a.getCapacity=function(e,t,a){if(!i.isValid(e))throw Error("Invalid QR Code version");void 0===a&&(a=l.BYTE);let n=(s.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,t))*8;if(a===l.MIXED)return n;let c=n-o(a,e);switch(a){case l.NUMERIC:return Math.floor(c/10*3);case l.ALPHANUMERIC:return Math.floor(c/11*2);case l.KANJI:return Math.floor(c/13);case l.BYTE:default:return Math.floor(c/8)}},a.getBestVersionForData=function(e,t){let s,r=n.from(t,n.M);if(Array.isArray(e)){if(e.length>1){for(let t=1;t<=40;t++)if(function(e,t){let a=0;return e.forEach(function(e){let s=o(e.mode,t);a+=s+e.getBitsLength()}),a}(e,t)<=a.getCapacity(t,r,l.MIXED))return t;return}if(0===e.length)return 1;s=e[0]}else s=e;return function(e,t,s){for(let r=1;r<=40;r++)if(t<=a.getCapacity(r,s,e))return r}(s.mode,s.getLength(),r)},a.getEncodedBits=function(e){if(!i.isValid(e)||e<7)throw Error("Invalid QR Code version");let t=e<<12;for(;s.getBCHDigit(t)-c>=0;)t^=7973<<s.getBCHDigit(t)-c;return e<<12|t}},857655,(e,t,a)=>{let s=e.r(87201),r=s.getBCHDigit(1335);a.getEncodedBits=function(e,t){let a=e.bit<<3|t,n=a<<10;for(;s.getBCHDigit(n)-r>=0;)n^=1335<<s.getBCHDigit(n)-r;return(a<<10|n)^21522}},494097,(e,t,a)=>{let s=e.r(150882);function r(e){this.mode=s.NUMERIC,this.data=e.toString()}r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let t,a;for(t=0;t+3<=this.data.length;t+=3)a=parseInt(this.data.substr(t,3),10),e.put(a,10);let s=this.data.length-t;s>0&&(a=parseInt(this.data.substr(t),10),e.put(a,3*s+1))},t.exports=r},112553,(e,t,a)=>{let s=e.r(150882),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(e){this.mode=s.ALPHANUMERIC,this.data=e}n.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let a=45*r.indexOf(this.data[t]);a+=r.indexOf(this.data[t+1]),e.put(a,11)}this.data.length%2&&e.put(r.indexOf(this.data[t]),6)},t.exports=n},882257,(e,t,a)=>{let s=e.r(150882);function r(e){this.mode=s.BYTE,"string"==typeof e?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}r.getBitsLength=function(e){return 8*e},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){for(let t=0,a=this.data.length;t<a;t++)e.put(this.data[t],8)},t.exports=r},422644,(e,t,a)=>{let s=e.r(150882),r=e.r(87201);function n(e){this.mode=s.KANJI,this.data=e}n.getBitsLength=function(e){return 13*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let a=r.toSJIS(this.data[t]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");a=(a>>>8&255)*192+(255&a),e.put(a,13)}},t.exports=n},245953,(e,t,a)=>{"use strict";var s={single_source_shortest_paths:function(e,t,a){var r,n,l,i,c,o,d,m={},h={};h[t]=0;var u=s.PriorityQueue.make();for(u.push(t,0);!u.empty();)for(l in n=(r=u.pop()).value,i=r.cost,c=e[n]||{})c.hasOwnProperty(l)&&(o=i+c[l],d=h[l],(void 0===h[l]||d>o)&&(h[l]=o,u.push(l,o),m[l]=n));if(void 0!==a&&void 0===h[a])throw Error("Could not find a path from "+t+" to "+a+".");return m},extract_shortest_path_from_predecessor_list:function(e,t){for(var a=[],s=t;s;)a.push(s),e[s],s=e[s];return a.reverse(),a},find_path:function(e,t,a){var r=s.single_source_shortest_paths(e,t,a);return s.extract_shortest_path_from_predecessor_list(r,a)},PriorityQueue:{make:function(e){var t,a=s.PriorityQueue,r={};for(t in e=e||{},a)a.hasOwnProperty(t)&&(r[t]=a[t]);return r.queue=[],r.sorter=e.sorter||a.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=s},297930,(e,t,a)=>{let s=e.r(150882),r=e.r(494097),n=e.r(112553),l=e.r(882257),i=e.r(422644),c=e.r(396592),o=e.r(87201),d=e.r(245953);function m(e){return unescape(encodeURIComponent(e)).length}function h(e,t,a){let s,r=[];for(;null!==(s=e.exec(a));)r.push({data:s[0],index:s.index,mode:t,length:s[0].length});return r}function u(e){let t,a,r=h(c.NUMERIC,s.NUMERIC,e),n=h(c.ALPHANUMERIC,s.ALPHANUMERIC,e);return o.isKanjiModeEnabled()?(t=h(c.BYTE,s.BYTE,e),a=h(c.KANJI,s.KANJI,e)):(t=h(c.BYTE_KANJI,s.BYTE,e),a=[]),r.concat(n,t,a).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function x(e,t){switch(t){case s.NUMERIC:return r.getBitsLength(e);case s.ALPHANUMERIC:return n.getBitsLength(e);case s.KANJI:return i.getBitsLength(e);case s.BYTE:return l.getBitsLength(e)}}function g(e,t){let a,c=s.getBestModeForData(e);if((a=s.from(t,c))!==s.BYTE&&a.bit<c.bit)throw Error('"'+e+'" cannot be encoded with mode '+s.toString(a)+".\n Suggested mode is: "+s.toString(c));switch(a===s.KANJI&&!o.isKanjiModeEnabled()&&(a=s.BYTE),a){case s.NUMERIC:return new r(e);case s.ALPHANUMERIC:return new n(e);case s.KANJI:return new i(e);case s.BYTE:return new l(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(g(t,null)):t.data&&e.push(g(t.data,t.mode)),e},[])},a.fromString=function(e,t){let r=function(e,t){let a={},r={start:{}},n=["start"];for(let l=0;l<e.length;l++){let i=e[l],c=[];for(let e=0;e<i.length;e++){let o=i[e],d=""+l+e;c.push(d),a[d]={node:o,lastCount:0},r[d]={};for(let e=0;e<n.length;e++){let l=n[e];a[l]&&a[l].node.mode===o.mode?(r[l][d]=x(a[l].lastCount+o.length,o.mode)-x(a[l].lastCount,o.mode),a[l].lastCount+=o.length):(a[l]&&(a[l].lastCount=o.length),r[l][d]=x(o.length,o.mode)+4+s.getCharCountIndicator(o.mode,t))}}n=c}for(let e=0;e<n.length;e++)r[n[e]].end=0;return{map:r,table:a}}(function(e){let t=[];for(let a=0;a<e.length;a++){let r=e[a];switch(r.mode){case s.NUMERIC:t.push([r,{data:r.data,mode:s.ALPHANUMERIC,length:r.length},{data:r.data,mode:s.BYTE,length:r.length}]);break;case s.ALPHANUMERIC:t.push([r,{data:r.data,mode:s.BYTE,length:r.length}]);break;case s.KANJI:t.push([r,{data:r.data,mode:s.BYTE,length:m(r.data)}]);break;case s.BYTE:t.push([{data:r.data,mode:s.BYTE,length:m(r.data)}])}}return t}(u(e,o.isKanjiModeEnabled())),t),n=d.find_path(r.map,"start","end"),l=[];for(let e=1;e<n.length-1;e++)l.push(r.table[n[e]].node);return a.fromArray(l.reduce(function(e,t){let a=e.length-1>=0?e[e.length-1]:null;return a&&a.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(u(e,o.isKanjiModeEnabled()))}},30671,(e,t,a)=>{let s=e.r(87201),r=e.r(473133),n=e.r(173666),l=e.r(811421),i=e.r(720637),c=e.r(814002),o=e.r(237692),d=e.r(848125),m=e.r(962458),h=e.r(93547),u=e.r(857655),x=e.r(150882),g=e.r(297930);function f(e,t,a){let s,r,n=e.size,l=u.getEncodedBits(t,a);for(s=0;s<15;s++)r=(l>>s&1)==1,s<6?e.set(s,8,r,!0):s<8?e.set(s+1,8,r,!0):e.set(n-15+s,8,r,!0),s<8?e.set(8,n-s-1,r,!0):s<9?e.set(8,15-s-1+1,r,!0):e.set(8,15-s-1,r,!0);e.set(n-8,8,1,!0)}a.create=function(e,t){let a,u;if(void 0===e||""===e)throw Error("No input text");let p=r.M;return void 0!==t&&(p=r.from(t.errorCorrectionLevel,r.M),a=h.from(t.version),u=o.from(t.maskPattern),t.toSJISFunc&&s.setToSJISFunction(t.toSJISFunc)),function(e,t,a,r){let u;if(Array.isArray(e))u=g.fromArray(e);else if("string"==typeof e){let s=t;if(!s){let t=g.rawSplit(e);s=h.getBestVersionForData(t,a)}u=g.fromString(e,s||40)}else throw Error("Invalid data");let p=h.getBestVersionForData(u,a);if(!p)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<p)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else t=p;let y=function(e,t,a){let r=new n;a.forEach(function(t){r.put(t.mode.bit,4),r.put(t.getLength(),x.getCharCountIndicator(t.mode,e)),t.write(r)});let l=(s.getSymbolTotalCodewords(e)-d.getTotalCodewordsCount(e,t))*8;for(r.getLengthInBits()+4<=l&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);let i=(l-r.getLengthInBits())/8;for(let e=0;e<i;e++)r.put(e%2?17:236,8);return function(e,t,a){let r,n,l=s.getSymbolTotalCodewords(t),i=l-d.getTotalCodewordsCount(t,a),c=d.getBlocksCount(t,a),o=l%c,h=c-o,u=Math.floor(l/c),x=Math.floor(i/c),g=x+1,f=u-x,p=new m(f),y=0,j=Array(c),b=Array(c),N=0,v=new Uint8Array(e.buffer);for(let e=0;e<c;e++){let t=e<h?x:g;j[e]=v.slice(y,y+t),b[e]=p.encode(j[e]),y+=t,N=Math.max(N,t)}let w=new Uint8Array(l),C=0;for(r=0;r<N;r++)for(n=0;n<c;n++)r<j[n].length&&(w[C++]=j[n][r]);for(r=0;r<f;r++)for(n=0;n<c;n++)w[C++]=b[n][r];return w}(r,e,t)}(t,a,u),j=new l(s.getSymbolSize(t));!function(e,t){let a=e.size,s=c.getPositions(t);for(let t=0;t<s.length;t++){let r=s[t][0],n=s[t][1];for(let t=-1;t<=7;t++)if(!(r+t<=-1)&&!(a<=r+t))for(let s=-1;s<=7;s++)n+s<=-1||a<=n+s||(t>=0&&t<=6&&(0===s||6===s)||s>=0&&s<=6&&(0===t||6===t)||t>=2&&t<=4&&s>=2&&s<=4?e.set(r+t,n+s,!0,!0):e.set(r+t,n+s,!1,!0))}}(j,t);let b=j.size;for(let e=8;e<b-8;e++){let t=e%2==0;j.set(e,6,t,!0),j.set(6,e,t,!0)}return!function(e,t){let a=i.getPositions(t);for(let t=0;t<a.length;t++){let s=a[t][0],r=a[t][1];for(let t=-2;t<=2;t++)for(let a=-2;a<=2;a++)-2===t||2===t||-2===a||2===a||0===t&&0===a?e.set(s+t,r+a,!0,!0):e.set(s+t,r+a,!1,!0)}}(j,t),f(j,a,0),t>=7&&function(e,t){let a,s,r,n=e.size,l=h.getEncodedBits(t);for(let t=0;t<18;t++)a=Math.floor(t/3),s=t%3+n-8-3,r=(l>>t&1)==1,e.set(a,s,r,!0),e.set(s,a,r,!0)}(j,t),!function(e,t){let a=e.size,s=-1,r=a-1,n=7,l=0;for(let i=a-1;i>0;i-=2)for(6===i&&i--;;){for(let a=0;a<2;a++)if(!e.isReserved(r,i-a)){let s=!1;l<t.length&&(s=(t[l]>>>n&1)==1),e.set(r,i-a,s),-1==--n&&(l++,n=7)}if((r+=s)<0||a<=r){r-=s,s=-s;break}}}(j,y),isNaN(r)&&(r=o.getBestMask(j,f.bind(null,j,a))),o.applyMask(r,j),f(j,a,r),{modules:j,version:t,errorCorrectionLevel:a,maskPattern:r,segments:u}}(e,a,p,u)}},125950,(e,t,a)=>{function s(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");let a=parseInt(t.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:255&a,hex:"#"+t.slice(0,6).join("")}}a.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,a=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:a,scale:a?4:r,margin:t,color:{dark:s(e.color.dark||"#000000ff"),light:s(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},a.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},a.getImageWidth=function(e,t){let s=a.getScale(e,t);return Math.floor((e+2*t.margin)*s)},a.qrToImageData=function(e,t,s){let r=t.modules.size,n=t.modules.data,l=a.getScale(r,s),i=Math.floor((r+2*s.margin)*l),c=s.margin*l,o=[s.color.light,s.color.dark];for(let t=0;t<i;t++)for(let a=0;a<i;a++){let d=(t*i+a)*4,m=s.color.light;t>=c&&a>=c&&t<i-c&&a<i-c&&(m=o[+!!n[Math.floor((t-c)/l)*r+Math.floor((a-c)/l)]]),e[d++]=m.r,e[d++]=m.g,e[d++]=m.b,e[d]=m.a}}},563037,(e,t,a)=>{let s=e.r(125950);a.render=function(e,t,a){var r;let n=a,l=t;void 0!==n||t&&t.getContext||(n=t,t=void 0),t||(l=function(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}()),n=s.getOptions(n);let i=s.getImageWidth(e.modules.size,n),c=l.getContext("2d"),o=c.createImageData(i,i);return s.qrToImageData(o.data,e,n),r=l,c.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=i,r.width=i,r.style.height=i+"px",r.style.width=i+"px",c.putImageData(o,0,0),l},a.renderToDataURL=function(e,t,s){let r=s;void 0!==r||t&&t.getContext||(r=t,t=void 0),r||(r={});let n=a.render(e,t,r),l=r.type||"image/png",i=r.rendererOpts||{};return n.toDataURL(l,i.quality)}},310891,(e,t,a)=>{let s=e.r(125950);function r(e,t){let a=e.a/255,s=t+'="'+e.hex+'"';return a<1?s+" "+t+'-opacity="'+a.toFixed(2).slice(1)+'"':s}function n(e,t,a){let s=e+t;return void 0!==a&&(s+=" "+a),s}a.render=function(e,t,a){let l=s.getOptions(t),i=e.modules.size,c=e.modules.data,o=i+2*l.margin,d=l.color.light.a?"<path "+r(l.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",m="<path "+r(l.color.dark,"stroke")+' d="'+function(e,t,a){let s="",r=0,l=!1,i=0;for(let c=0;c<e.length;c++){let o=Math.floor(c%t),d=Math.floor(c/t);o||l||(l=!0),e[c]?(i++,c>0&&o>0&&e[c-1]||(s+=l?n("M",o+a,.5+d+a):n("m",r,0),r=0,l=!1),o+1<t&&e[c+1]||(s+=n("h",i),i=0)):r++}return s}(c,i,l.margin)+'"/>',h='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+('viewBox="0 0 '+o+" ")+o+'" shape-rendering="crispEdges">'+d+m+"</svg>\n";return"function"==typeof a&&a(null,h),h}},973134,(e,t,a)=>{let s=e.r(738750),r=e.r(30671),n=e.r(563037),l=e.r(310891);function i(e,t,a,n,l){let i=[].slice.call(arguments,1),c=i.length,o="function"==typeof i[c-1];if(!o&&!s())throw Error("Callback required as last argument");if(o){if(c<2)throw Error("Too few arguments provided");2===c?(l=a,a=t,t=n=void 0):3===c&&(t.getContext&&void 0===l?(l=n,n=void 0):(l=n,n=a,a=t,t=void 0))}else{if(c<1)throw Error("Too few arguments provided");return 1===c?(a=t,t=n=void 0):2!==c||t.getContext||(n=a,a=t,t=void 0),new Promise(function(s,l){try{let l=r.create(a,n);s(e(l,t,n))}catch(e){l(e)}})}try{let s=r.create(a,n);l(null,e(s,t,n))}catch(e){l(e)}}a.create=r.create,a.toCanvas=i.bind(null,n.render),a.toDataURL=i.bind(null,n.renderToDataURL),a.toString=i.bind(null,function(e,t,a){return l.render(e,a)})},672906,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(390464),r=e.i(515288),n=e.i(492161),l=e.i(761911),i=e.i(475254);let c=(0,i.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var o=e.i(150965),d=e.i(98919);let m=(0,i.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var h=e.i(269638),u=e.i(561659);let x=(0,i.default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),g=(0,i.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);var f=e.i(245423),p=e.i(519455),y=e.i(487486),j=e.i(793479),b=e.i(967489),N=e.i(892680),v=e.i(95187),w=(0,v.createServerReference)("00f67bec35fe5be3f75776a5519458f310a9947545",v.callServer,void 0,v.findSourceMapURL,"getAllOrdersForAdmin"),C=e.i(16715);let k=(0,i.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var S=e.i(687130),M=e.i(503116),T=e.i(265056),_=e.i(488844),E=e.i(63209),I=e.i(286536),D=e.i(343432),P=e.i(263488),B=e.i(346897),A=e.i(705766);function R(){let[e,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[c,o]=(0,a.useState)(!0),[d,m]=(0,a.useState)(null),[u,x]=(0,a.useState)(""),[g,f]=(0,a.useState)("all"),[v,R]=(0,a.useState)("daily"),[L,F]=(0,a.useState)(""),[O,U]=(0,a.useState)(""),[H,q]=(0,a.useState)(null),[z,Y]=(0,a.useState)({dailyOrders:0,pendingOrders:0,completedOrders:0,totalOrdersForTimeFrame:0}),$=(0,a.useCallback)((e,t=v)=>{let a=new Date;a.setHours(0,0,0,0);let s=e.filter(e=>{let t=new Date(e.created_at||"");return t.setHours(0,0,0,0),t.getTime()===a.getTime()}),r=e.filter(e=>["pending","confirmed","preparing"].includes(e.status||"")).length,n=e.filter(e=>"completed"===e.status).length,l=[],i=new Date;switch(t){case"daily":l=s;break;case"weekly":let c=new Date;c.setDate(i.getDate()-7),l=e.filter(e=>new Date(e.created_at||"")>=c);break;case"monthly":let o=new Date;o.setMonth(i.getMonth()-1),l=e.filter(e=>new Date(e.created_at||"")>=o);break;case"3months":let d=new Date;d.setMonth(i.getMonth()-3),l=e.filter(e=>new Date(e.created_at||"")>=d);break;case"6months":let m=new Date;m.setMonth(i.getMonth()-6),l=e.filter(e=>new Date(e.created_at||"")>=m);break;case"1year":let h=new Date;h.setFullYear(i.getFullYear()-1),l=e.filter(e=>new Date(e.created_at||"")>=h);break;case"custom":if(L&&O){let t=parseInt(L),a=parseInt(O);l=e.filter(e=>{let s=new Date(e.created_at||"");return s.getMonth()===t&&s.getFullYear()===a})}else l=e;break;default:l=e}Y({dailyOrders:s.length,pendingOrders:r,completedOrders:n,totalOrdersForTimeFrame:l.length})},[v,L,O]),V=(0,a.useCallback)(async()=>{try{let e=await w();e.success?(s(e.data),$(e.data)):A.default.error("Failed to fetch orders")}catch(e){console.error("Error fetching orders:",e),A.default.error("Error loading orders")}finally{o(!1)}},[$]);(0,a.useEffect)(()=>{V();let e=setInterval(V,3e4);return()=>clearInterval(e)},[V]),(0,a.useEffect)(()=>{e.length>0&&$(e)},[v,e,$]),(0,a.useEffect)(()=>{let t=e,a=new Date;switch(v){case"daily":let s=new Date;s.setHours(0,0,0,0);let r=new Date(s);r.setDate(r.getDate()+1),t=t.filter(e=>{let t=new Date(e.created_at||"");return t>=s&&t<r});break;case"weekly":let n=new Date;n.setDate(a.getDate()-7),t=t.filter(e=>new Date(e.created_at||"")>=n);break;case"monthly":let l=new Date;l.setMonth(a.getMonth()-1),t=t.filter(e=>new Date(e.created_at||"")>=l);break;case"3months":let c=new Date;c.setMonth(a.getMonth()-3),t=t.filter(e=>new Date(e.created_at||"")>=c);break;case"6months":let o=new Date;o.setMonth(a.getMonth()-6),t=t.filter(e=>new Date(e.created_at||"")>=o);break;case"1year":let d=new Date;d.setFullYear(a.getFullYear()-1),t=t.filter(e=>new Date(e.created_at||"")>=d);break;case"custom":if(L&&O){let e=parseInt(L),a=parseInt(O);t=t.filter(t=>{let s=new Date(t.created_at||"");return s.getMonth()===e&&s.getFullYear()===a})}}u&&(t=t.filter(e=>e.order_number?.toLowerCase().includes(u.toLowerCase())||e.profiles?.full_name?.toLowerCase().includes(u.toLowerCase())||e.profiles?.email?.toLowerCase().includes(u.toLowerCase()))),"all"!==g&&(t=t.filter(e=>e.status===g)),i(t=t.sort((e,t)=>{let a=new Date(e.created_at||0).getTime();return new Date(t.created_at||0).getTime()-a}))},[e,u,g,v,L,O]);let Q=async(e,t)=>{m(e);try{(await (0,N.updateOrderStatus)(e,t)).success?(A.default.success(`Order updated to ${t}`),V()):A.default.error("Failed to update order status")}catch(e){A.default.error("Error updating order")}finally{m(null)}},K=e=>{switch(e){case"pending":return"bg-yellow-500/20 border-yellow-500/50 text-yellow-300";case"confirmed":return"bg-blue-500/20 border-blue-500/50 text-blue-300";case"preparing":return"bg-orange-500/20 border-orange-500/50 text-orange-300";case"ready":return"bg-green-500/20 border-green-500/50 text-green-300";case"completed":return"bg-purple-500/20 border-purple-500/50 text-purple-300";case"cancelled":return"bg-red-500/20 border-red-500/50 text-red-300";default:return"bg-gray-500/20 border-gray-500/50 text-gray-300"}},W=e=>e?new Date(e).toLocaleString("en-ZA",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown",G=e=>`R${e.toFixed(2)}`;return c?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(C.RefreshCw,{className:"h-8 w-8 animate-spin text-neonCyan"}),(0,t.jsx)("span",{className:"ml-2 text-gray-300",children:"Loading orders..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Order Management"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage and track all customer orders"})]}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("div",{className:"flex bg-gray-800/50 rounded-lg p-1",children:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"3months",label:"3 Months"},{value:"6months",label:"6 Months"},{value:"1year",label:"1 Year"},{value:"all",label:"All Time"}].map(e=>(0,t.jsx)(p.Button,{onClick:()=>{R(e.value),"custom"!==e.value&&(F(""),U(""))},variant:v===e.value?"default":"ghost",size:"sm",className:`px-3 py-1 text-xs ${v===e.value?"bg-neonCyan text-black":"text-gray-300 hover:bg-gray-700"}`,children:e.label},e.value))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(b.Select,{value:L,onValueChange:e=>{F(e),e&&O&&R("custom")},children:[(0,t.jsx)(b.SelectTrigger,{className:"w-32 bg-gray-800/50 border-gray-700",children:(0,t.jsx)(b.SelectValue,{placeholder:"Month"})}),(0,t.jsx)(b.SelectContent,{className:"bg-gray-800 border-gray-700",children:[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}].map(e=>(0,t.jsx)(b.SelectItem,{value:e.value,className:"text-white hover:bg-gray-700",children:e.label},e.value))})]}),(0,t.jsxs)(b.Select,{value:O,onValueChange:e=>{U(e),e&&L&&R("custom")},children:[(0,t.jsx)(b.SelectTrigger,{className:"w-24 bg-gray-800/50 border-gray-700",children:(0,t.jsx)(b.SelectValue,{placeholder:"Year"})}),(0,t.jsx)(b.SelectContent,{className:"bg-gray-800 border-gray-700",children:Array.from({length:5},(e,a)=>{let s=new Date().getFullYear()-a;return(0,t.jsx)(b.SelectItem,{value:s.toString(),className:"text-white hover:bg-gray-700",children:s},s)})})]})]}),(0,t.jsxs)(p.Button,{onClick:V,disabled:c,className:"neon-button",children:[(0,t.jsx)(C.RefreshCw,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(r.Card,{className:"bg-gradient-to-br from-neonCyan/10 to-neonCyan/5 border-neonCyan/20 hover:border-neonCyan/40 transition-all duration-300",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Daily Orders"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:z.dailyOrders}),(0,t.jsx)("p",{className:"text-xs text-neonCyan mt-1",children:"Orders placed today"})]}),(0,t.jsx)(l.Users,{className:"h-12 w-12 text-neonCyan"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-500/5 border-yellow-500/20 hover:border-yellow-500/40 transition-all duration-300",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Pending Orders"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:z.pendingOrders}),(0,t.jsx)("p",{className:"text-xs text-yellow-400 mt-1",children:"Awaiting processing"})]}),(0,t.jsx)(M.Clock,{className:"h-12 w-12 text-yellow-400"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gradient-to-br from-green-500/10 to-green-500/5 border-green-500/20 hover:border-green-500/40 transition-all duration-300",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Completed Orders"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:z.completedOrders}),(0,t.jsx)("p",{className:"text-xs text-green-400 mt-1",children:"Successfully completed"})]}),(0,t.jsx)(h.CheckCircle,{className:"h-12 w-12 text-green-400"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gradient-to-br from-purple-500/10 to-purple-500/5 border-purple-500/20 hover:border-purple-500/40 transition-all duration-300",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"daily"===v?"Today":"weekly"===v?"This Week":"monthly"===v?"This Month":"3months"===v?"Last 3 Months":"6months"===v?"Last 6 Months":"1year"===v?"Last Year":"All Time"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:z.totalOrdersForTimeFrame}),(0,t.jsx)("p",{className:"text-xs text-purple-400 mt-1",children:"Total orders in timeframe"})]}),(0,t.jsx)(_.Package,{className:"h-12 w-12 text-purple-400"})]})})})]}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center flex-1",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(j.Input,{placeholder:"Search orders by number, customer name, or email...",value:u,onChange:e=>x(e.target.value),className:"pl-10 bg-gray-700/50 border-gray-600 text-white"})]}),(0,t.jsxs)(b.Select,{value:g,onValueChange:f,children:[(0,t.jsxs)(b.SelectTrigger,{className:"w-48 bg-gray-700/50 border-gray-600 text-white",children:[(0,t.jsx)(S.Filter,{className:"w-4 h-4 mr-2"}),(0,t.jsx)(b.SelectValue,{})]}),(0,t.jsxs)(b.SelectContent,{className:"bg-gray-800 border-gray-600",children:[(0,t.jsx)(b.SelectItem,{value:"all",children:"All Orders"}),(0,t.jsx)(b.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(b.SelectItem,{value:"confirmed",children:"Confirmed"}),(0,t.jsx)(b.SelectItem,{value:"preparing",children:"Preparing"}),(0,t.jsx)(b.SelectItem,{value:"ready",children:"Ready"}),(0,t.jsx)(b.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(b.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,t.jsxs)(p.Button,{onClick:V,className:"neon-button",children:[(0,t.jsx)(C.RefreshCw,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})})}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:n.map(e=>(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50 hover:border-gray-600/50 transition-colors",children:[(0,t.jsxs)(r.CardHeader,{className:"pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(r.CardTitle,{className:"text-lg text-white",children:["Order #",e.order_number||e.id.slice(0,8)]}),(0,t.jsxs)(y.Badge,{className:`${K(e.status)} flex items-center gap-1`,children:[(e=>{switch(e){case"pending":default:return(0,t.jsx)(M.Clock,{className:"w-4 h-4"});case"confirmed":case"completed":return(0,t.jsx)(h.CheckCircle,{className:"w-4 h-4"});case"preparing":return(0,t.jsx)(T.ChefHat,{className:"w-4 h-4"});case"ready":return(0,t.jsx)(_.Package,{className:"w-4 h-4"});case"cancelled":return(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4"})}})(e.status),e.status||"pending"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[(0,t.jsx)("span",{children:W(e.created_at)}),(0,t.jsx)("span",{className:"font-medium text-neonCyan",children:G(e.total_amount||0)})]})]}),(0,t.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(l.Users,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.profiles?.full_name||"Walk-in Customer"})]}),e.profiles?.email&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)(P.Mail,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"truncate",children:e.profiles.email})]}),e.profiles?.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)(D.Phone,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{children:e.profiles.phone})]}),e.delivery_method&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(B.MapPin,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)(y.Badge,{variant:"outline",className:"text-xs",children:"delivery"===e.delivery_method?"🚚 Delivery":"📦 Pickup"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-300",children:"Items:"}),(0,t.jsx)("div",{className:"max-h-20 overflow-y-auto space-y-1",children:e.order_items.map((e,a)=>(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:[e.quantity,"x ",e.menu_items?.name||"Unknown Item",e.special_instructions&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 ml-4",children:["Note: ",e.special_instructions]})]},a))})]}),e.special_instructions&&(0,t.jsxs)("div",{className:"p-2 bg-gray-700/50 rounded text-sm",children:[(0,t.jsx)("p",{className:"text-gray-300 font-medium",children:"Special Instructions:"}),(0,t.jsx)("p",{className:"text-gray-400",children:e.special_instructions})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(p.Button,{onClick:()=>q(e),variant:"outline",size:"sm",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:[(0,t.jsx)(I.Eye,{className:"w-4 h-4 mr-1"}),"View"]}),"completed"!==e.status&&"cancelled"!==e.status&&(0,t.jsxs)(b.Select,{onValueChange:t=>Q(e.id,t),disabled:d===e.id,children:[(0,t.jsx)(b.SelectTrigger,{className:"flex-1 bg-neonCyan/10 border-neonCyan/30 text-neonCyan hover:bg-neonCyan/20",children:(0,t.jsx)(b.SelectValue,{placeholder:d===e.id?"Updating...":"Update Status"})}),(0,t.jsxs)(b.SelectContent,{className:"bg-gray-800 border-gray-600",children:[(0,t.jsx)(b.SelectItem,{value:"confirmed",children:"Confirmed"}),(0,t.jsx)(b.SelectItem,{value:"preparing",children:"Preparing"}),(0,t.jsx)(b.SelectItem,{value:"ready",children:"Ready"}),(0,t.jsx)(b.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(b.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]})]})]},e.id))}),0===n.length&&(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsxs)(r.CardContent,{className:"p-12 text-center",children:[(0,t.jsx)(_.Package,{className:"h-16 w-16 mx-auto mb-4 text-gray-500"}),(0,t.jsx)("h3",{className:"text-xl text-gray-400 mb-2",children:"No Orders Found"}),(0,t.jsx)("p",{className:"text-gray-500",children:u||"all"!==g?"Try adjusting your search or filter criteria":"Orders will appear here when customers place them"})]})}),H&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)(r.Card,{className:"bg-gray-900 border-gray-700 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(r.CardTitle,{className:"text-xl text-white",children:["Order Details #",H.order_number||H.id.slice(0,8)]}),(0,t.jsx)(p.Button,{onClick:()=>q(null),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:"✕"})]})}),(0,t.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400",children:"Status"}),(0,t.jsx)(y.Badge,{className:`${K(H.status)} mt-1`,children:H.status||"pending"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400",children:"Total Amount"}),(0,t.jsx)("p",{className:"text-white font-medium",children:G(H.total_amount||0)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400",children:"Created"}),(0,t.jsx)("p",{className:"text-white",children:W(H.created_at)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400",children:"Payment Status"}),(0,t.jsx)("p",{className:"text-white",children:H.payment_status||"pending"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-gray-400 font-medium",children:"Items:"}),H.order_items.map((e,a)=>(0,t.jsx)("div",{className:"bg-gray-800/50 p-3 rounded",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-white",children:[e.quantity,"x ",e.menu_items?.name||"Unknown Item"]}),e.special_instructions&&(0,t.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:["Note: ",e.special_instructions]})]}),(0,t.jsx)("p",{className:"text-neonCyan font-medium",children:G(e.price||0)})]})},a))]})]})]})})]})}var L=e.i(624687),F=e.i(699375),O=e.i(110204);function U(e,t,{checkForDefaultPrevented:a=!0}={}){return function(s){if(e?.(s),!1===a||!s.defaultPrevented)return t?.(s)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var H=e.i(30030),q=e.i(75830),z=e.i(820783),Y=e.i(610772),$=e.i(248425),V=e.i(30207),Q=e.i(369340),K=e.i(586318),W="rovingFocusGroup.onEntryFocus",G={bubbles:!1,cancelable:!0},J="RovingFocusGroup",[X,Z,ee]=(0,q.createCollection)(J),[et,ea]=(0,H.createContextScope)(J,[ee]),[es,er]=et(J),en=a.forwardRef((e,a)=>(0,t.jsx)(X.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(X.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(el,{...e,ref:a})})}));en.displayName=J;var el=a.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:l=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...u}=e,x=a.useRef(null),g=(0,z.useComposedRefs)(s,x),f=(0,K.useDirection)(i),[p,y]=(0,Q.useControllableState)({prop:c,defaultProp:o??null,onChange:d,caller:J}),[j,b]=a.useState(!1),N=(0,V.useCallbackRef)(m),v=Z(r),w=a.useRef(!1),[C,k]=a.useState(0);return a.useEffect(()=>{let e=x.current;if(e)return e.addEventListener(W,N),()=>e.removeEventListener(W,N)},[N]),(0,t.jsx)(es,{scope:r,orientation:n,dir:f,loop:l,currentTabStopId:p,onItemFocus:a.useCallback(e=>y(e),[y]),onItemShiftTab:a.useCallback(()=>b(!0),[]),onFocusableItemAdd:a.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>k(e=>e-1),[]),children:(0,t.jsx)($.Primitive.div,{tabIndex:j||0===C?-1:0,"data-orientation":n,...u,ref:g,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{w.current=!0}),onFocus:U(e.onFocus,e=>{let t=!w.current;if(e.target===e.currentTarget&&t&&!j){let t=new CustomEvent(W,G);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=v().filter(e=>e.focusable);ed([e.find(e=>e.active),e.find(e=>e.id===p),...e].filter(Boolean).map(e=>e.ref.current),h)}}w.current=!1}),onBlur:U(e.onBlur,()=>b(!1))})})}),ei="RovingFocusGroupItem",ec=a.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:l=!1,tabStopId:i,children:c,...o}=e,d=(0,Y.useId)(),m=i||d,h=er(ei,r),u=h.currentTabStopId===m,x=Z(r),{onFocusableItemAdd:g,onFocusableItemRemove:f,currentTabStopId:p}=h;return a.useEffect(()=>{if(n)return g(),()=>f()},[n,g,f]),(0,t.jsx)(X.ItemSlot,{scope:r,id:m,focusable:n,active:l,children:(0,t.jsx)($.Primitive.span,{tabIndex:u?0:-1,"data-orientation":h.orientation,...o,ref:s,onMouseDown:U(e.onMouseDown,e=>{n?h.onItemFocus(m):e.preventDefault()}),onFocus:U(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:U(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,a){var s;let r=(s=e.key,"rtl"!==a?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return eo[r]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=x().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){var a,s;"prev"===t&&r.reverse();let n=r.indexOf(e.currentTarget);r=h.loop?(a=r,s=n+1,a.map((e,t)=>a[(s+t)%a.length])):r.slice(n+1)}setTimeout(()=>ed(r))}}),children:"function"==typeof c?c({isCurrentTabStop:u,hasTabStop:null!=p}):c})})});ec.displayName=ei;var eo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ed(e,t=!1){let a=document.activeElement;for(let s of e)if(s===a||(s.focus({preventScroll:t}),document.activeElement!==a))return}var em=e.i(934620),eh=e=>{var t;let s,r,{present:n,children:l}=e,i=function(e){var t,s;let[r,n]=a.useState(),l=a.useRef(null),i=a.useRef(e),c=a.useRef("none"),[o,d]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>s[e][t]??e,t));return a.useEffect(()=>{let e=eu(l.current);c.current="mounted"===o?e:"none"},[o]),(0,em.useLayoutEffect)(()=>{let t=l.current,a=i.current;if(a!==e){let s=c.current,r=eu(t);e?d("MOUNT"):"none"===r||t?.display==="none"?d("UNMOUNT"):a&&s!==r?d("ANIMATION_OUT"):d("UNMOUNT"),i.current=e}},[e,d]),(0,em.useLayoutEffect)(()=>{if(r){let e,t=r.ownerDocument.defaultView??window,a=a=>{let s=eu(l.current).includes(CSS.escape(a.animationName));if(a.target===r&&s&&(d("ANIMATION_END"),!i.current)){let a=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=a)})}},s=e=>{e.target===r&&(c.current=eu(l.current))};return r.addEventListener("animationstart",s),r.addEventListener("animationcancel",a),r.addEventListener("animationend",a),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",s),r.removeEventListener("animationcancel",a),r.removeEventListener("animationend",a)}}d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:a.useCallback(e=>{l.current=e?getComputedStyle(e):null,n(e)},[])}}(n),c="function"==typeof l?l({present:i.isPresent}):a.Children.only(l),o=(0,z.useComposedRefs)(i.ref,(t=c,(r=(s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?t.ref:(r=(s=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof l||i.isPresent?a.cloneElement(c,{ref:o}):null};function eu(e){return e?.animationName||"none"}eh.displayName="Presence";var ex="Tabs",[eg,ef]=(0,H.createContextScope)(ex,[ea]),ep=ea(),[ey,ej]=eg(ex),eb=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:c,activationMode:o="automatic",...d}=e,m=(0,K.useDirection)(c),[h,u]=(0,Q.useControllableState)({prop:r,onChange:n,defaultProp:l??"",caller:ex});return(0,t.jsx)(ey,{scope:s,baseId:(0,Y.useId)(),value:h,onValueChange:u,orientation:i,dir:m,activationMode:o,children:(0,t.jsx)($.Primitive.div,{dir:m,"data-orientation":i,...d,ref:a})})});eb.displayName=ex;var eN="TabsList",ev=a.forwardRef((e,a)=>{let{__scopeTabs:s,loop:r=!0,...n}=e,l=ej(eN,s),i=ep(s);return(0,t.jsx)(en,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:r,children:(0,t.jsx)($.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:a})})});ev.displayName=eN;var ew="TabsTrigger",eC=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,disabled:n=!1,...l}=e,i=ej(ew,s),c=ep(s),o=eM(i.baseId,r),d=eT(i.baseId,r),m=r===i.value;return(0,t.jsx)(ec,{asChild:!0,...c,focusable:!n,active:m,children:(0,t.jsx)($.Primitive.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:o,...l,ref:a,onMouseDown:U(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(r)}),onKeyDown:U(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(r)}),onFocus:U(e.onFocus,()=>{let e="manual"!==i.activationMode;m||n||!e||i.onValueChange(r)})})})});eC.displayName=ew;var ek="TabsContent",eS=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:n,forceMount:l,children:i,...c}=e,o=ej(ek,r),d=eM(o.baseId,n),m=eT(o.baseId,n),h=n===o.value,u=a.useRef(h);return a.useEffect(()=>{let e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(eh,{present:l||h,children:({present:a})=>(0,t.jsx)($.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":d,hidden:!a,id:m,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:u.current?"0s":void 0},children:a&&i})})});function eM(e,t){return`${e}-trigger-${t}`}function eT(e,t){return`${e}-content-${t}`}eS.displayName=ek;var e_=e.i(975157);let eE=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(ev,{ref:s,className:(0,e_.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));eE.displayName=ev.displayName;let eI=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(eC,{ref:s,className:(0,e_.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));eI.displayName=eC.displayName;let eD=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(eS,{ref:s,className:(0,e_.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));eD.displayName=eS.displayName;var eP=e.i(390676),eB=e.i(107233);let eA=(0,i.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var eR=e.i(727612),eL=e.i(212426);let eF=(0,i.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var eO=e.i(356909),eU=e.i(37727),eH=e.i(878894);let eq=(0,i.default)("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),ez=(0,i.default)("square-menu",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 8h10",key:"1jw688"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M7 16h10",key:"wp8him"}]]),eY=(0,i.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var e$=e.i(77705);let eV={Drinks:{min:10,max:19,color:"neonCyan"},Food:{min:20,max:29,color:"neonPink"},"All Day Menu":{min:30,max:39,color:"orange-500"},Kids:{min:40,max:49,color:"purple-500"}};function eQ(){let[e,s]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[o,d]=(0,a.useState)("overview"),[m,h]=(0,a.useState)(""),[u,x]=(0,a.useState)("all"),[g,f]=(0,a.useState)("all"),[N,v]=(0,a.useState)(!1),[w,M]=(0,a.useState)(!1),[T,E]=(0,a.useState)(null),[D,P]=(0,a.useState)(null),[B,R]=(0,a.useState)({name:"",description:"",display_order:"",is_active:!0}),[U,H]=(0,a.useState)({name:"",description:"",price:"",category_id:"",image_url:"",is_available:!0}),q=(0,eP.getSupabaseClient)(),z=e=>{for(let[t,a]of Object.entries(eV))if(e>=a.min&&e<=a.max)return t;return"Other"},Y=e=>eV[e]?.color||"gray-500",$=t=>{let a=eV[t];if(!a)return[];let s=e.filter(e=>e.id!==T?.id).map(e=>e.display_order),r=[];for(let e=a.min;e<=a.max;e++)s.includes(e)||r.push(e);return r},V=(0,a.useCallback)(async()=>{try{c(!0);let{data:e,error:t}=await q.from("menu_categories").select("*").order("display_order");if(t)throw t;let a=(e||[]).map(e=>({...e,section:z(e.display_order||0)}));s(a);let{data:r,error:n}=await q.from("menu_items").select(`
          *,
          category:menu_categories(id, name, display_order)
        `).order("name");if(n)throw n;l(r||[])}catch(e){console.error("Error fetching menu data:",e),A.default.error("Failed to load menu data")}finally{c(!1)}},[q]);(0,a.useEffect)(()=>{V()},[V]);let Q=Object.keys(eV).map(t=>{let a=e.filter(e=>e.section===t),s=n.filter(e=>z(e.category?.display_order||0)===t);return{name:t,categories:a,items:s,color:Y(t),range:eV[t]}}),K=n.filter(e=>{let t=e.name.toLowerCase().includes(m.toLowerCase())||(e.description||"").toLowerCase().includes(m.toLowerCase()),a=z(e.category?.display_order||0),s="all"===u||a===u,r="all"===g||e.category_id===g;return t&&s&&r}),W=()=>{R({name:"",description:"",display_order:"",is_active:!0}),E(null),v(!1)},G=async e=>{if(e.preventDefault(),!B.name||!B.display_order)return void A.default.error("Please fill in all required fields");try{let e={name:B.name,description:B.description||null,display_order:parseInt(B.display_order),is_active:B.is_active};if(T){let{error:t}=await q.from("menu_categories").update(e).eq("id",T.id);if(t)throw t;A.default.success("Category updated successfully")}else{let{error:t}=await q.from("menu_categories").insert(e);if(t)throw t;A.default.success("Category created successfully")}W(),V()}catch(e){console.error("Error saving category:",e),A.default.error("Failed to save category")}},J=e=>{R({name:e.name,description:e.description||"",display_order:e.display_order?.toString()||"",is_active:e.is_active??!0}),E(e),v(!0)},X=async e=>{if(n.some(t=>t.category_id===e))return void A.default.error("Cannot delete category with menu items. Please move or delete items first.");if(confirm("Are you sure you want to delete this category?"))try{let{error:t}=await q.from("menu_categories").delete().eq("id",e);if(t)throw t;A.default.success("Category deleted successfully"),V()}catch(e){console.error("Error deleting category:",e),A.default.error("Failed to delete category")}},Z=()=>{H({name:"",description:"",price:"",category_id:"",image_url:"",is_available:!0}),P(null),M(!1)},ee=async e=>{if(e.preventDefault(),!U.name||!U.price||!U.category_id)return void A.default.error("Please fill in all required fields");try{let e={name:U.name,description:U.description||null,price:parseFloat(U.price),category_id:U.category_id,image_url:U.image_url||null,is_available:U.is_available};if(D){let{error:t}=await q.from("menu_items").update(e).eq("id",D.id);if(t)throw t;A.default.success("Menu item updated successfully")}else{let{error:t}=await q.from("menu_items").insert(e);if(t)throw t;A.default.success("Menu item created successfully")}Z(),V()}catch(e){console.error("Error saving menu item:",e),A.default.error("Failed to save menu item")}},et=async e=>{if(confirm("Are you sure you want to delete this menu item?"))try{let{error:t}=await q.from("menu_items").delete().eq("id",e);if(t)throw t;A.default.success("Menu item deleted successfully"),V()}catch(e){console.error("Error deleting menu item:",e),A.default.error("Failed to delete menu item")}},ea=async(e,t)=>{try{let{error:a}=await q.from("menu_categories").update({is_active:!t}).eq("id",e);if(a)throw a;A.default.success(`Category ${!t?"activated":"deactivated"} successfully`),V()}catch(e){console.error("Error updating category status:",e),A.default.error("Failed to update category status")}},es=async(e,t)=>{try{let{error:a}=await q.from("menu_items").update({is_available:!t}).eq("id",e);if(a)throw a;A.default.success(`Item ${!t?"enabled":"disabled"} successfully`),V()}catch(e){console.error("Error updating availability:",e),A.default.error("Failed to update availability")}};return i?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(C.RefreshCw,{className:"h-8 w-8 animate-spin text-neonCyan"}),(0,t.jsx)("span",{className:"ml-2 text-gray-300",children:"Loading three-tier menu..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(r.Card,{className:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 border-gray-700/50",children:(0,t.jsxs)(r.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Three-Tier Menu Management"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage your menu sections, categories, and items"})]}),(0,t.jsxs)(p.Button,{onClick:V,variant:"outline",className:"border-gray-600 text-gray-300",children:[(0,t.jsx)(C.RefreshCw,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Q.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[(0,t.jsx)("div",{className:`w-2 h-2 bg-${e.color} rounded-full mb-2`}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:e.name}),(0,t.jsxs)("div",{className:"text-lg font-bold text-white",children:[e.categories.length," categories"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.items.length," items"]})]},e.name))})]})}),(0,t.jsxs)(eb,{value:o,onValueChange:d,className:"w-full",children:[(0,t.jsxs)(eE,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[(0,t.jsxs)(eI,{value:"overview",className:"data-[state=active]:bg-neonCyan/20",children:[(0,t.jsx)(ez,{className:"w-4 h-4 mr-2"}),"Overview"]}),(0,t.jsxs)(eI,{value:"categories",className:"data-[state=active]:bg-neonPink/20",children:[(0,t.jsx)(eq,{className:"w-4 h-4 mr-2"}),"Categories"]}),(0,t.jsxs)(eI,{value:"items",className:"data-[state=active]:bg-orange-500/20",children:[(0,t.jsx)(_.Package,{className:"w-4 h-4 mr-2"}),"Menu Items"]})]}),(0,t.jsx)(eD,{value:"overview",className:"space-y-6",children:(0,t.jsx)("div",{className:"space-y-6",children:Q.map(e=>(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-3 h-3 bg-${e.color} rounded-full`}),(0,t.jsx)("span",{className:"text-white",children:e.name}),(0,t.jsxs)(y.Badge,{variant:"outline",className:"text-xs",children:[e.categories.length," categories, ",e.items.length," items"]})]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:0===e.categories.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(eq,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No categories in this section"}),(0,t.jsx)(p.Button,{onClick:()=>{let t=$(e.name);t.length>0?(R(e=>({...e,display_order:t[0].toString()})),d("categories"),v(!0)):A.default.error(`No available positions in ${e.name} section`)},className:"mt-2 text-xs",variant:"outline",children:"Add Category"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.categories.map(a=>(0,t.jsx)(r.Card,{className:"bg-gray-700/30 border-gray-600/50",children:(0,t.jsx)(r.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-white",children:a.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:["Order: ",a.display_order]}),(0,t.jsxs)("p",{className:"text-xs text-neonCyan font-mono",children:["ID: ",a.id]})]}),(0,t.jsx)(y.Badge,{className:a.is_active?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300",children:a.is_active?"Active":"Inactive"})]}),a.description&&(0,t.jsx)("p",{className:"text-sm text-gray-400 line-clamp-2",children:a.description}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.items.filter(e=>e.category_id===a.id).length," items"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(p.Button,{onClick:()=>J(a),variant:"outline",size:"sm",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700 text-xs",children:[(0,t.jsx)(eA,{className:"w-3 h-3 mr-1"}),"Edit"]}),(0,t.jsx)(p.Button,{onClick:()=>ea(a.id,a.is_active??!1),variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700 text-xs",children:a.is_active?(0,t.jsx)(e$.EyeOff,{className:"w-3 h-3"}):(0,t.jsx)(I.Eye,{className:"w-3 h-3"})})]})]})})},a.id))})})})]},e.name))})}),(0,t.jsxs)(eD,{value:"categories",className:"space-y-6",children:[(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center flex-1",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(j.Input,{placeholder:"Search categories...",value:m,onChange:e=>h(e.target.value),className:"pl-10 bg-gray-700/50 border-gray-600 text-white"})]}),(0,t.jsxs)(b.Select,{value:u,onValueChange:x,children:[(0,t.jsxs)(b.SelectTrigger,{className:"w-48 bg-gray-700/50 border-gray-600 text-white",children:[(0,t.jsx)(S.Filter,{className:"w-4 h-4 mr-2"}),(0,t.jsx)(b.SelectValue,{})]}),(0,t.jsxs)(b.SelectContent,{className:"bg-gray-800 border-gray-600",children:[(0,t.jsx)(b.SelectItem,{value:"all",children:"All Sections"}),Object.keys(eV).map(e=>(0,t.jsx)(b.SelectItem,{value:e,children:e},e))]})]})]}),(0,t.jsxs)(p.Button,{onClick:()=>v(!0),className:"neon-button",children:[(0,t.jsx)(eq,{className:"w-4 h-4 mr-2"}),"Add Category"]})]})})}),N&&(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center justify-between",children:[T?"Edit Category":"Create New Category",(0,t.jsx)(p.Button,{onClick:W,variant:"ghost",size:"sm",className:"text-gray-400",children:(0,t.jsx)(eU.X,{className:"w-4 h-4"})})]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("form",{onSubmit:G,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{htmlFor:"cat-name",className:"text-gray-300",children:"Category Name *"}),(0,t.jsx)(j.Input,{id:"cat-name",value:B.name,onChange:e=>R(t=>({...t,name:e.target.value})),className:"bg-gray-700/50 border-gray-600 text-white",placeholder:"Category name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{htmlFor:"cat-display-order",className:"text-gray-300",children:"Section & Position *"}),(0,t.jsxs)(b.Select,{value:B.display_order,onValueChange:e=>R(t=>({...t,display_order:e})),children:[(0,t.jsx)(b.SelectTrigger,{className:"bg-gray-700/50 border-gray-600 text-white",children:(0,t.jsx)(b.SelectValue,{placeholder:"Select section and position"})}),(0,t.jsx)(b.SelectContent,{className:"bg-gray-800 border-gray-600",children:Object.entries(eV).map(([e])=>$(e).map(a=>(0,t.jsxs)(b.SelectItem,{value:a.toString(),children:[e," - Position ",a]},a)))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{htmlFor:"cat-description",className:"text-gray-300",children:"Description"}),(0,t.jsx)(L.Textarea,{id:"cat-description",value:B.description,onChange:e=>R(t=>({...t,description:e.target.value})),className:"bg-gray-700/50 border-gray-600 text-white",placeholder:"Describe the category...",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(F.Switch,{checked:B.is_active,onCheckedChange:e=>R(t=>({...t,is_active:e}))}),(0,t.jsx)(O.Label,{className:"text-gray-300",children:"Active (visible to customers)"})]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(p.Button,{type:"button",onClick:W,variant:"outline",className:"border-gray-600 text-gray-300",children:"Cancel"}),(0,t.jsxs)(p.Button,{type:"submit",className:"neon-button",children:[(0,t.jsx)(eO.Save,{className:"w-4 h-4 mr-2"}),T?"Update":"Create"," Category"]})]})]})})]}),(0,t.jsx)("div",{className:"space-y-4",children:Q.filter(e=>"all"===u||e.name===u).map(e=>(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-3 h-3 bg-${e.color} rounded-full`}),(0,t.jsx)("span",{className:"text-white",children:e.name}),(0,t.jsxs)(y.Badge,{variant:"outline",children:[e.categories.length," categories"]})]})}),(0,t.jsx)(r.CardContent,{children:0===e.categories.length?(0,t.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,t.jsx)(eq,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No categories in this section"})]}):(0,t.jsx)("div",{className:"space-y-3",children:e.categories.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-700/30 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h4",{className:"font-medium text-white",children:e.name}),(0,t.jsxs)(y.Badge,{variant:"outline",className:"text-xs",children:["Order: ",e.display_order]}),(0,t.jsxs)(y.Badge,{variant:"outline",className:"text-xs text-neonCyan border-neonCyan/30",children:["ID: ",e.id]}),(0,t.jsx)(y.Badge,{className:e.is_active?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300",children:e.is_active?"Active":"Inactive"})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[n.filter(t=>t.category_id===e.id).length," items"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(p.Button,{onClick:()=>J(e),variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:(0,t.jsx)(eA,{className:"w-4 h-4"})}),(0,t.jsx)(p.Button,{onClick:()=>ea(e.id,e.is_active??!1),variant:"outline",size:"sm",className:`border-gray-600 ${e.is_active?"text-yellow-400 hover:bg-yellow-400/10":"text-green-400 hover:bg-green-400/10"}`,children:e.is_active?(0,t.jsx)(e$.EyeOff,{className:"w-4 h-4"}):(0,t.jsx)(I.Eye,{className:"w-4 h-4"})}),(0,t.jsx)(p.Button,{onClick:()=>X(e.id),variant:"outline",size:"sm",className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:(0,t.jsx)(eR.Trash2,{className:"w-4 h-4"})})]})]},e.id))})})]},e.name))})]}),(0,t.jsxs)(eD,{value:"items",className:"space-y-6",children:[(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center flex-1",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(j.Input,{placeholder:"Search menu items...",value:m,onChange:e=>h(e.target.value),className:"pl-10 bg-gray-700/50 border-gray-600 text-white"})]}),(0,t.jsxs)(b.Select,{value:u,onValueChange:x,children:[(0,t.jsxs)(b.SelectTrigger,{className:"w-48 bg-gray-700/50 border-gray-600 text-white",children:[(0,t.jsx)(S.Filter,{className:"w-4 h-4 mr-2"}),(0,t.jsx)(b.SelectValue,{})]}),(0,t.jsxs)(b.SelectContent,{className:"bg-gray-800 border-gray-600",children:[(0,t.jsx)(b.SelectItem,{value:"all",children:"All Sections"}),Object.keys(eV).map(e=>(0,t.jsx)(b.SelectItem,{value:e,children:e},e))]})]}),(0,t.jsxs)(b.Select,{value:g,onValueChange:f,children:[(0,t.jsxs)(b.SelectTrigger,{className:"w-48 bg-gray-700/50 border-gray-600 text-white",children:[(0,t.jsx)(S.Filter,{className:"w-4 h-4 mr-2"}),(0,t.jsx)(b.SelectValue,{})]}),(0,t.jsxs)(b.SelectContent,{className:"bg-gray-800 border-gray-600",children:[(0,t.jsx)(b.SelectItem,{value:"all",children:"All Categories"}),e.filter(e=>"all"===u||e.section===u).map(e=>(0,t.jsxs)(b.SelectItem,{value:e.id,children:[e.section," → ",e.name]},e.id))]})]})]}),(0,t.jsxs)(p.Button,{onClick:()=>M(!0),className:"neon-button",children:[(0,t.jsx)(eB.Plus,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})})}),w&&(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center justify-between",children:[D?"Edit Menu Item":"Create New Menu Item",(0,t.jsx)(p.Button,{onClick:Z,variant:"ghost",size:"sm",className:"text-gray-400",children:(0,t.jsx)(eU.X,{className:"w-4 h-4"})})]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("form",{onSubmit:ee,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{htmlFor:"item-name",className:"text-gray-300",children:"Item Name *"}),(0,t.jsx)(j.Input,{id:"item-name",value:U.name,onChange:e=>H(t=>({...t,name:e.target.value})),className:"bg-gray-700/50 border-gray-600 text-white",placeholder:"Menu item name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{htmlFor:"item-price",className:"text-gray-300",children:"Price (R) *"}),(0,t.jsx)(j.Input,{id:"item-price",type:"number",step:"0.01",min:"0",value:U.price,onChange:e=>H(t=>({...t,price:e.target.value})),className:"bg-gray-700/50 border-gray-600 text-white",placeholder:"0.00",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{htmlFor:"item-category",className:"text-gray-300",children:"Category *"}),(0,t.jsxs)(b.Select,{value:U.category_id,onValueChange:e=>H(t=>({...t,category_id:e})),children:[(0,t.jsx)(b.SelectTrigger,{className:"bg-gray-700/50 border-gray-600 text-white",children:(0,t.jsx)(b.SelectValue,{placeholder:"Select category"})}),(0,t.jsx)(b.SelectContent,{className:"bg-gray-800 border-gray-600",children:Q.map(e=>e.categories.map(a=>(0,t.jsxs)(b.SelectItem,{value:a.id,children:[e.name," → ",a.name]},a.id)))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{htmlFor:"item-image",className:"text-gray-300",children:"Image URL"}),(0,t.jsx)(j.Input,{id:"item-image",value:U.image_url,onChange:e=>H(t=>({...t,image_url:e.target.value})),className:"bg-gray-700/50 border-gray-600 text-white",placeholder:"https://..."})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{htmlFor:"item-description",className:"text-gray-300",children:"Description"}),(0,t.jsx)(L.Textarea,{id:"item-description",value:U.description,onChange:e=>H(t=>({...t,description:e.target.value})),className:"bg-gray-700/50 border-gray-600 text-white",placeholder:"Describe the menu item...",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(F.Switch,{checked:U.is_available,onCheckedChange:e=>H(t=>({...t,is_available:e}))}),(0,t.jsx)(O.Label,{className:"text-gray-300",children:"Available for ordering"})]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(p.Button,{type:"button",onClick:Z,variant:"outline",className:"border-gray-600 text-gray-300",children:"Cancel"}),(0,t.jsxs)(p.Button,{type:"submit",className:"neon-button",children:[(0,t.jsx)(eO.Save,{className:"w-4 h-4 mr-2"}),D?"Update":"Create"," Item"]})]})]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:K.map(e=>{let a=z(e.category?.display_order||0),s=Y(a);return(0,t.jsx)(r.Card,{className:`bg-gray-800/50 border-gray-700/50 hover:border-gray-600/50 transition-colors ${!e.is_available?"opacity-60":""}`,children:(0,t.jsx)(r.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:`w-2 h-2 bg-${s} rounded-full`}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:a}),(0,t.jsx)(eY,{className:"w-3 h-3 text-gray-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:e.category?.name})]}),(0,t.jsx)("div",{className:"aspect-square bg-gray-700/50 rounded-lg flex items-center justify-center overflow-hidden",children:e.image_url?(0,t.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover",onError:e=>{let t=e.target;t.style.display="none";let a=t.parentElement;a&&(a.innerHTML='<div class="text-gray-400"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div>')}}):(0,t.jsx)(eF,{className:"w-8 h-8 text-gray-400"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)("h3",{className:"font-medium text-white line-clamp-2",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-1 ml-2",children:[(0,t.jsx)(eL.DollarSign,{className:"w-4 h-4 text-neonCyan"}),(0,t.jsxs)("span",{className:"font-bold text-neonCyan",children:["R",e.price.toFixed(2)]})]})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-400 line-clamp-2",children:e.description}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)(y.Badge,{className:e.is_available?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300",children:e.is_available?"Available":"Unavailable"})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(p.Button,{onClick:()=>{H({name:e.name,description:e.description||"",price:e.price.toString(),category_id:e.category_id||"",image_url:e.image_url||"",is_available:e.is_available??!0}),P(e),M(!0)},variant:"outline",size:"sm",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:[(0,t.jsx)(eA,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,t.jsx)(p.Button,{onClick:()=>es(e.id,e.is_available??!1),variant:"outline",size:"sm",className:`border-gray-600 ${e.is_available?"text-yellow-400 hover:bg-yellow-400/10":"text-green-400 hover:bg-green-400/10"}`,children:e.is_available?(0,t.jsx)(e$.EyeOff,{className:"w-4 h-4"}):(0,t.jsx)(I.Eye,{className:"w-4 h-4"})}),(0,t.jsx)(p.Button,{onClick:()=>et(e.id),variant:"outline",size:"sm",className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:(0,t.jsx)(eR.Trash2,{className:"w-4 h-4"})})]})]})})},e.id)})}),0===K.length&&(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsxs)(r.CardContent,{className:"p-12 text-center",children:[(0,t.jsx)(eH.AlertTriangle,{className:"h-16 w-16 mx-auto mb-4 text-gray-500"}),(0,t.jsx)("h3",{className:"text-xl text-gray-400 mb-2",children:"No Menu Items Found"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:m||"all"!==u||"all"!==g?"Try adjusting your search or filter criteria":"Create your first menu item to get started"}),!m&&"all"===u&&"all"===g&&(0,t.jsxs)(p.Button,{onClick:()=>M(!0),className:"neon-button",children:[(0,t.jsx)(eB.Plus,{className:"w-4 h-4 mr-2"}),"Add First Item"]})]})})]})]})]})}var eK=(0,v.createServerReference)("0022fdf629b1bf96792c1a9d378214819d202fa40a",v.callServer,void 0,v.findSourceMapURL,"getAnalyticsDataForAdmin");let eW=(0,i.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),eG=(0,i.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var eJ=e.i(87316);function eX(){let[e,s]=(0,a.useState)({totalOrders:0,totalRevenue:0,totalUsers:0,mostPopularItem:null,popularItems:[],dailyStats:[]}),[n,l]=(0,a.useState)(!0),[i,d]=(0,a.useState)("week"),m=(0,a.useCallback)(async()=>{try{l(!0);let e=new Date,t=new Date;"week"===i?t.setDate(e.getDate()-7):"month"===i?t.setMonth(e.getMonth()-1):t=new Date("2020-01-01");let a=await eK();if(!a.success)throw Error(a.error||"Failed to fetch analytics data");let{orders:r,userCount:n}=a,c=r?.filter(e=>new Date(e.created_at||"")>=t)||[],o=c.filter(e=>"paid"===e.payment_status||"completed"===e.status||e.total_amount&&e.total_amount>0),d=c.length,m=o.reduce((e,t)=>e+(t.total_amount||0),0),h={};c.forEach(e=>{e.order_items?.forEach(e=>{let t=e.menu_items?.name||"Unknown Item";h[t]||(h[t]={quantity:0,revenue:0}),h[t].quantity+=e.quantity,h[t].revenue+=(e.price||0)*e.quantity})});let u=Object.entries(h).map(([e,t])=>({name:e,...t})).sort((e,t)=>t.quantity-e.quantity).slice(0,5),x=u.length>0?{name:u[0].name,quantity:u[0].quantity}:null,g=[];for(let e=6;e>=0;e--){let t=new Date;t.setDate(t.getDate()-e);let a=new Date(t.setHours(0,0,0,0)),s=new Date(t.setHours(23,59,59,999)),r=c.filter(e=>{let t=new Date(e.created_at||"");return t>=a&&t<=s}),n=r.reduce((e,t)=>e+(t.total_amount||0),0);g.push({date:t.toLocaleDateString("en-ZA",{weekday:"short"}),orders:r.length,revenue:n})}s({totalOrders:d,totalRevenue:m,totalUsers:n,mostPopularItem:x,popularItems:u,dailyStats:g})}catch(e){console.error("Error fetching analytics:",e),A.default.error("Failed to load analytics data")}finally{l(!1)}},[i]);(0,a.useEffect)(()=>{m()},[m]);let h=e=>`R${e.toFixed(2)}`;return n?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(C.RefreshCw,{className:"h-8 w-8 animate-spin text-neonCyan"}),(0,t.jsx)("span",{className:"ml-2 text-gray-300",children:"Loading analytics..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Analytics Dashboard"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Track your restaurant's performance and insights"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex bg-gray-800/50 rounded-lg p-1",children:["week","month","all"].map(e=>(0,t.jsx)(p.Button,{onClick:()=>d(e),variant:i===e?"default":"ghost",size:"sm",className:`px-4 py-2 ${i===e?"bg-neonCyan text-black":"text-gray-300"}`,children:"week"===e?"This Week":"month"===e?"This Month":"All Time"},e))}),(0,t.jsxs)(p.Button,{onClick:m,className:"neon-button",children:[(0,t.jsx)(C.RefreshCw,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total Orders"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:e.totalOrders}),(0,t.jsxs)("p",{className:"text-xs text-green-400 flex items-center mt-1",children:[(0,t.jsx)(eW,{className:"w-3 h-3 mr-1"}),"week"===i?"This week":"month"===i?"This month":"All time"]})]}),(0,t.jsx)(o.ShoppingBag,{className:"h-12 w-12 text-neonCyan"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total Revenue"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:h(e.totalRevenue)}),(0,t.jsxs)("p",{className:"text-xs text-green-400 flex items-center mt-1",children:[(0,t.jsx)(eW,{className:"w-3 h-3 mr-1"}),"From paid orders"]})]}),(0,t.jsx)(eL.DollarSign,{className:"h-12 w-12 text-neonPink"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Most Popular Item"}),(0,t.jsx)("p",{className:"text-xl font-bold text-white",children:e.mostPopularItem?e.mostPopularItem.name:"No data"}),(0,t.jsxs)("p",{className:"text-xs text-blue-400 flex items-center mt-1",children:[(0,t.jsx)(eG,{className:"w-3 h-3 mr-1"}),e.mostPopularItem?`${e.mostPopularItem.quantity} sold`:"No sales yet"]})]}),(0,t.jsx)(c,{className:"h-12 w-12 text-blue-400"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total Users"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:e.totalUsers}),(0,t.jsxs)("p",{className:"text-xs text-purple-400 flex items-center mt-1",children:[(0,t.jsx)(M.Clock,{className:"w-3 h-3 mr-1"}),"Registered customers"]})]}),(0,t.jsx)(eG,{className:"h-12 w-12 text-purple-400"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(eJ.Calendar,{className:"w-5 h-5 text-neonCyan"}),"Daily Performance (Last 7 Days)"]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.dailyStats.map((a,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 text-sm text-gray-400",children:a.date}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-neonCyan rounded-full"}),(0,t.jsxs)("span",{className:"text-white text-sm",children:[a.orders," orders"]})]}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:h(a.revenue)})]})]}),(0,t.jsx)("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-neonCyan to-neonPink h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(a.orders/Math.max(...e.dailyStats.map(e=>e.orders))*100,100)}%`}})})]},s))})})]}),(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(eW,{className:"w-5 h-5 text-neonPink"}),"Popular Menu Items"]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.popularItems.length>0?e.popularItems.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-neonCyan to-neonPink rounded-full flex items-center justify-center text-black font-bold text-sm",children:a+1}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.quantity," sold • ",h(e.revenue)]})]})]}),(0,t.jsx)("div",{className:"text-neonCyan font-bold",children:e.quantity})]},a)):(0,t.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No sales data available"})})})]})]})]})}var eZ=e.i(776639),e0=e.i(284614);let e1=(0,i.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),e2=(0,i.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var e4=(0,v.createServerReference)("4028cab79cb5aea76699654a6651578b3b7b1fefa6",v.callServer,void 0,v.findSourceMapURL,"deleteUserCompletely");function e5(){let{profile:e,user:n}=(0,s.useAuth)(),[i,c]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0),[m,h]=(0,a.useState)(""),[u,x]=(0,a.useState)("all"),[g,f]=(0,a.useState)(!1),[b,N]=(0,a.useState)(null),[v,w]=(0,a.useState)(!1),S=(0,eP.getSupabaseClient)(),M=(0,a.useCallback)(async()=>{try{d(!0);let{data:e,error:t}=await S.from("profiles").select("*").order("created_at",{ascending:!1});if(t)throw t;c(e||[])}catch(e){console.error("Error fetching users:",e),A.default.error("Failed to load users")}finally{d(!1)}},[S]);(0,a.useEffect)(()=>{M()},[M]);let T=async()=>{if(!b?.email)return void A.default.error("No user email found");try{w(!0);let e=await e4(b.email);e.success?(A.default.success(e.message||"User deleted successfully"),f(!1),N(null),await M()):A.default.error(e.error||"Failed to delete user")}catch(e){console.error("Error deleting user:",e),A.default.error("Failed to delete user. Please try again.")}finally{w(!1)}},_=i.filter(e=>{let t=!m||e.full_name?.toLowerCase().includes(m.toLowerCase())||e.email?.toLowerCase().includes(m.toLowerCase()),a="all"===u||"admin"===u&&e.is_admin||"staff"===u&&e.is_staff||"customer"===u&&!e.is_admin&&!e.is_staff;return t&&a}),E=e=>e.is_admin?(0,t.jsx)(y.Badge,{className:"bg-red-500 text-white",children:"Admin"}):e.is_staff?(0,t.jsx)(y.Badge,{className:"bg-blue-500 text-white",children:"Staff"}):(0,t.jsx)(y.Badge,{variant:"outline",className:"border-gray-500 text-gray-300",children:"Customer"});return o?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(C.RefreshCw,{className:"h-8 w-8 animate-spin text-neonCyan"}),(0,t.jsx)("span",{className:"ml-2 text-gray-300",children:"Loading users..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"User Management"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage user accounts and permissions"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(p.Button,{onClick:M,className:"neon-button",children:[(0,t.jsx)(C.RefreshCw,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total Users"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:i.length})]}),(0,t.jsx)(l.Users,{className:"h-12 w-12 text-neonCyan"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Admins"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:i.filter(e=>e.is_admin).length})]}),(0,t.jsx)(e1,{className:"h-12 w-12 text-red-400"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Staff"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:i.filter(e=>e.is_staff&&!e.is_admin).length})]}),(0,t.jsx)(e2,{className:"h-12 w-12 text-blue-400"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Customers"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:i.filter(e=>!e.is_admin&&!e.is_staff).length})]}),(0,t.jsx)(e0.User,{className:"h-12 w-12 text-green-400"})]})})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)(j.Input,{placeholder:"Search users by name or email...",value:m,onChange:e=>h(e.target.value),className:"pl-10 bg-gray-800/50 border-gray-700/50 text-white"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:["all","admin","staff","customer"].map(e=>(0,t.jsx)(p.Button,{onClick:()=>x(e),variant:u===e?"default":"outline",className:u===e?"bg-neonCyan text-black":"border-gray-700 text-gray-300 hover:bg-gray-700/50",children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(l.Users,{className:"w-5 h-5 text-neonCyan"}),"Users (",_.length,")"]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)("div",{className:"space-y-4",children:_.length>0?_.map(a=>{var s;return(0,t.jsx)("div",{className:"bg-gray-700/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-neonCyan to-neonPink rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-black font-bold text-sm",children:a.full_name?.charAt(0)||a.email?.charAt(0)?.toUpperCase()||"U"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-medium",children:a.full_name||"No name"}),(0,t.jsxs)("p",{className:"text-gray-400 text-sm flex items-center gap-1",children:[(0,t.jsx)(P.Mail,{className:"w-3 h-3"}),a.email||"No email"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[E(a),(0,t.jsx)(y.Badge,{className:"bg-green-500 text-white",children:"Verified"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs text-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(eJ.Calendar,{className:"w-3 h-3"}),"Joined: ",(s=a.created_at)?new Date(s).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(e0.User,{className:"w-3 h-3"}),"Status: Active"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 lg:w-64",children:[(0,t.jsx)("div",{className:"bg-gray-800/30 rounded-lg p-3 border border-gray-700/50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-2",children:"User Role"}),(0,t.jsx)("div",{className:"flex justify-center",children:E(a)}),(0,t.jsx)("p",{className:"text-gray-500 text-xs mt-2",children:"Contact system admin to change roles"})]})}),(0,t.jsx)("div",{className:"bg-gray-800/30 rounded-lg p-2 border border-gray-700/50",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs",children:[a.is_admin&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-red-400",children:[(0,t.jsx)(e1,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Admin Access"})]}),a.is_staff&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-blue-400",children:[(0,t.jsx)(e2,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Staff Access"})]}),!a.is_admin&&!a.is_staff&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-400",children:[(0,t.jsx)(e0.User,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Customer"})]})]})}),(0,t.jsxs)(p.Button,{onClick:()=>{a.id===e?.id||a.email===n?.email?A.default.error("You cannot delete your own account"):(N(a),f(!0))},disabled:a.id===e?.id,variant:"outline",className:"border-red-500/30 text-red-400 hover:bg-red-500/10 hover:border-red-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(eR.Trash2,{className:"w-4 h-4 mr-2"}),"Delete User"]})]})]})},a.id)}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(l.Users,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"No users found matching your criteria"})]})})})})]}),(0,t.jsx)(eZ.Dialog,{open:g,onOpenChange:f,children:(0,t.jsxs)(eZ.DialogContent,{className:"bg-gray-900 border-red-500/30",children:[(0,t.jsxs)(eZ.DialogHeader,{children:[(0,t.jsxs)(eZ.DialogTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(eH.AlertTriangle,{className:"w-5 h-5 text-red-400"}),"Confirm User Deletion"]}),(0,t.jsx)(eZ.DialogDescription,{className:"text-gray-300",children:"This action cannot be undone. This will permanently delete the user account and all associated data including:"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[b&&(0,t.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-red-500 to-red-700 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold text-sm",children:b.full_name?.charAt(0)||b.email?.charAt(0)?.toUpperCase()||"U"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-medium",children:b.full_name||"No name"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:b.email||"No email"})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:E(b)})]}),(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,t.jsxs)("p",{className:"text-red-400 font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(eH.AlertTriangle,{className:"w-4 h-4"}),"The following data will be permanently deleted:"]}),(0,t.jsxs)("ul",{className:"text-gray-300 text-sm space-y-1 ml-6 list-disc",children:[(0,t.jsx)("li",{children:"User profile and account information"}),(0,t.jsx)("li",{children:"Order history and items"}),(0,t.jsx)("li",{children:"Booking records"}),(0,t.jsx)("li",{children:"Notifications and notification history"}),(0,t.jsx)("li",{children:"Staff requests (if any)"}),(0,t.jsx)("li",{children:"Contact form submissions"})]})]}),(0,t.jsxs)("p",{className:"text-gray-400 text-sm",children:["Type the user's email to confirm: ",(0,t.jsx)("span",{className:"text-white font-mono",children:b?.email})]})]}),(0,t.jsxs)(eZ.DialogFooter,{className:"gap-2",children:[(0,t.jsx)(p.Button,{onClick:()=>{f(!1),N(null)},disabled:v,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700/50",children:"Cancel"}),(0,t.jsx)(p.Button,{onClick:T,disabled:v,className:"bg-red-500 text-white hover:bg-red-600 border-red-500",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.RefreshCw,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eR.Trash2,{className:"w-4 h-4 mr-2"}),"Delete User"]})})]})]})})]})}var e3=(0,v.createServerReference)("00c27281271fc0930808d52a34d3cafc85cadb8ff0",v.callServer,void 0,v.findSourceMapURL,"getBookingInquiries"),e6=e.i(686311);function e8(){let[e,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),c=(0,eP.getSupabaseClient)(),o=(0,a.useCallback)(async()=>{try{i(!0);let e=await e3();if(!e.success)throw Error(e.message||"Failed to fetch inquiries");s(e.data||[])}catch(e){console.error("Error fetching inquiries:",e),A.default.error("Failed to load inquiries")}finally{i(!1)}},[]),d=async(e,t)=>{try{let{error:a}=await c.from("contact_submissions").update({status:t}).eq("id",e);if(a)throw a;s(a=>a.map(a=>a.id===e?{...a,status:t}:a)),A.default.success("Status updated")}catch(e){console.error("Error updating status:",e),A.default.error("Failed to update status")}};return((0,a.useEffect)(()=>{o()},[o]),n)?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(C.RefreshCw,{className:"h-8 w-8 animate-spin text-neonCyan"}),(0,t.jsx)("span",{className:"ml-2 text-gray-300",children:"Loading inquiries..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Booking Inquiries"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Recent contact form submissions from customers"})]}),(0,t.jsxs)(p.Button,{onClick:o,className:"neon-button",children:[(0,t.jsx)(C.RefreshCw,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(e6.MessageSquare,{className:"w-5 h-5 text-neonPink"}),"Customer Inquiries (",e.length,")"]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.length>0?e.map(e=>{var a,s;return(0,t.jsx)("div",{className:"bg-gray-700/30 rounded-lg p-4",children:(0,t.jsx)("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-medium text-lg",children:e.name}),(0,t.jsxs)("p",{className:"text-gray-400 text-sm",children:["Submitted on ",new Date(e.created_at||"").toLocaleString("en-ZA")]})]}),(0,t.jsx)("div",{className:"ml-auto",children:(e=>{switch(e){case"pending":return(0,t.jsx)(y.Badge,{className:"bg-yellow-500 text-black",children:"Pending"});case"contacted":return(0,t.jsx)(y.Badge,{className:"bg-blue-500 text-white",children:"Contacted"});case"confirmed":return(0,t.jsx)(y.Badge,{className:"bg-green-500 text-white",children:"Confirmed"});case"cancelled":return(0,t.jsx)(y.Badge,{className:"bg-red-500 text-white",children:"Cancelled"});default:return(0,t.jsx)(y.Badge,{variant:"outline",children:"New"})}})(e.status)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)(P.Mail,{className:"w-4 h-4 text-neonCyan"}),(0,t.jsx)("span",{children:e.email})]}),e.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)(D.Phone,{className:"w-4 h-4 text-neonCyan"}),(0,t.jsx)("span",{children:e.phone})]}),e.party_size&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)(l.Users,{className:"w-4 h-4 text-neonCyan"}),(0,t.jsxs)("span",{children:[e.party_size," people"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)(eJ.Calendar,{className:"w-4 h-4 text-neonCyan"}),(0,t.jsx)("span",{children:(a=e.preferred_date)?new Date(a).toLocaleDateString("en-ZA",{weekday:"short",year:"numeric",month:"short",day:"numeric"}):"Not specified"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)(M.Clock,{className:"w-4 h-4 text-neonCyan"}),(0,t.jsx)("span",{children:(s=e.preferred_time)?new Date(`2000-01-01T${s}`).toLocaleTimeString("en-ZA",{hour:"2-digit",minute:"2-digit"}):"Not specified"})]}),e.event_type&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,t.jsx)(e6.MessageSquare,{className:"w-4 h-4 text-neonCyan"}),(0,t.jsx)("span",{children:e.event_type})]})]}),e.message&&(0,t.jsx)("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-gray-300 break-words overflow-wrap-anywhere max-w-full",children:[(0,t.jsx)("strong",{className:"text-white",children:"Message:"})," ",e.message]})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:["pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Button,{onClick:()=>d(e.id,"contacted"),size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Mark as Contacted"}),(0,t.jsx)(p.Button,{onClick:()=>d(e.id,"confirmed"),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:"Confirm Booking"})]}),"contacted"===e.status&&(0,t.jsx)(p.Button,{onClick:()=>d(e.id,"confirmed"),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:"Confirm Booking"}),(0,t.jsx)(p.Button,{onClick:()=>d(e.id,"cancelled"),size:"sm",variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/10",children:"Cancel"})]})]})})},e.id)}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(e6.MessageSquare,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"No inquiries found"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Customer inquiries will appear here when submitted"})]})})})]})]})}var e7=e.i(870273);function e9(){let e,[s,n]=(0,a.useState)({todayRevenue:0,todayOrders:0,activeOrders:0,pendingBookings:0,totalCustomers:0,topSellingItemsToday:[],topSellingItemsWeek:[],topSellingItemsMonth:[],weeklyTrend:{revenue:0,orders:0,growth:0}}),[i,c]=(0,a.useState)(!0),d=(0,eP.getSupabaseClient)(),u=(0,a.useCallback)(async()=>{try{c(!0);let e=new Date,t=new Date(e.setHours(0,0,0,0)),a=new Date(e.setHours(23,59,59,999)),s=new Date;s.setDate(s.getDate()-7);let r=new Date;r.setDate(r.getDate()-30);let{data:l,error:i}=await d.from("orders").select(`
          *,
          order_items (
            quantity,
            price,
            menu_items (name)
          )
        `).gte("created_at",t.toISOString()).lte("created_at",a.toISOString());if(i)throw i;let{data:o,error:m}=await d.from("orders").select(`
          *,
          order_items (
            quantity,
            price,
            menu_items (name)
          )
        `).gte("created_at",s.toISOString());if(m)throw m;let{data:h,error:u}=await d.from("orders").select(`
          *,
          order_items (
            quantity,
            price,
            menu_items (name)
          )
        `).gte("created_at",r.toISOString());if(u)throw u;let{data:x,error:g}=await d.from("orders").select("*").not("status","in","(completed,cancelled)").gte("created_at",s.toISOString());if(g)throw g;let{data:f,error:p}=await d.from("profiles").select("id",{count:"exact"});if(p)throw p;let y=l?.filter(e=>("paid"===e.payment_status||"completed"===e.status)&&e.total_amount&&e.total_amount>0)?.reduce((e,t)=>e+(t.total_amount||0),0)||0,j=l?.length||0,b=x?.length||0,N=0,v=f?.length||0,w=e=>{let t={};return e?.forEach(e=>{e.order_items?.forEach(e=>{let a=e.menu_items?.name||"Unknown Item";t[a]=(t[a]||0)+e.quantity})}),Object.entries(t).map(([e,t])=>({name:e,sales:t})).sort((e,t)=>t.sales-e.sales).slice(0,5)},C=w(l),k=w(o),S=w(h),M=o?.reduce((e,t)=>e+(t.total_amount||0),0)||0,T=o?.length||0;n({todayRevenue:y,todayOrders:j,activeOrders:b,pendingBookings:N,totalCustomers:v,topSellingItemsToday:C,topSellingItemsWeek:k,topSellingItemsMonth:S,weeklyTrend:{revenue:M,orders:T,growth:y>0?(y-M/7)/(M/7)*100:0}})}catch(e){console.error("Error fetching dashboard stats:",e),A.default.error("Failed to load dashboard data")}finally{c(!1)}},[d]);return((0,a.useEffect)(()=>{u()},[u]),i)?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(C.RefreshCw,{className:"h-8 w-8 animate-spin text-neonCyan"}),(0,t.jsx)("span",{className:"ml-2 text-gray-300",children:"Loading dashboard..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Business Overview"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Real-time insights into your restaurant performance"})]}),(0,t.jsxs)(p.Button,{onClick:u,className:"neon-button",children:[(0,t.jsx)(C.RefreshCw,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Today's Revenue"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:(e=s.todayRevenue,`R${e.toFixed(2)}`)}),(0,t.jsxs)("p",{className:"text-xs text-green-400 flex items-center mt-1",children:[(0,t.jsx)(eW,{className:"w-3 h-3 mr-1"}),s.weeklyTrend.growth.toFixed(1),"% vs avg"]})]}),(0,t.jsx)(eL.DollarSign,{className:"h-12 w-12 text-neonCyan"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Today's Orders"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:s.todayOrders}),(0,t.jsxs)("p",{className:"text-xs text-blue-400 flex items-center mt-1",children:[(0,t.jsx)(eG,{className:"w-3 h-3 mr-1"}),"Orders placed"]})]}),(0,t.jsx)(o.ShoppingBag,{className:"h-12 w-12 text-neonPink"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Active Orders"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:s.activeOrders}),(0,t.jsxs)("p",{className:"text-xs text-orange-400 flex items-center mt-1",children:[(0,t.jsx)(m,{className:"w-3 h-3 mr-1"}),"In progress"]})]}),(0,t.jsx)(M.Clock,{className:"h-12 w-12 text-orange-400"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Pending Bookings"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:s.pendingBookings}),(0,t.jsx)("p",{className:"text-xs text-gray-400 flex items-center mt-1",children:s.pendingBookings>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eH.AlertTriangle,{className:"w-3 h-3 mr-1 text-yellow-400"}),(0,t.jsx)("span",{className:"text-yellow-400",children:"Need attention"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.CheckCircle,{className:"w-3 h-3 mr-1 text-green-400"}),(0,t.jsx)("span",{className:"text-green-400",children:"All clear"})]})})]}),(0,t.jsx)(eJ.Calendar,{className:"h-12 w-12 text-yellow-400"})]})})}),(0,t.jsx)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsx)(r.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total Customers"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:s.totalCustomers}),(0,t.jsxs)("p",{className:"text-xs text-purple-400 flex items-center mt-1",children:[(0,t.jsx)(l.Users,{className:"w-3 h-3 mr-1"}),"Registered users"]})]}),(0,t.jsx)(l.Users,{className:"h-12 w-12 text-purple-400"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(e7.Star,{className:"w-5 h-5 text-neonPink"}),"Top Selling Items (Today)"]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:s.topSellingItemsToday.length>0?s.topSellingItemsToday.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-neonCyan to-neonPink rounded-full flex items-center justify-center text-black font-bold text-sm",children:a+1}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.sales," sold today"]})]})]}),(0,t.jsx)("div",{className:"text-neonCyan font-bold",children:e.sales})]},a)):(0,t.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No sales data for today"})})})]}),(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(e7.Star,{className:"w-5 h-5 text-green-400"}),"Top Selling Items (This Week)"]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:s.topSellingItemsWeek.length>0?s.topSellingItemsWeek.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center text-black font-bold text-sm",children:a+1}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.sales," sold this week"]})]})]}),(0,t.jsx)("div",{className:"text-green-400 font-bold",children:e.sales})]},a)):(0,t.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No sales data this week"})})})]}),(0,t.jsxs)(r.Card,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(e7.Star,{className:"w-5 h-5 text-purple-400"}),"Top Selling Items (This Month)"]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:s.topSellingItemsMonth.length>0?s.topSellingItemsMonth.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full flex items-center justify-center text-black font-bold text-sm",children:a+1}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.sales," sold this month"]})]})]}),(0,t.jsx)("div",{className:"text-purple-400 font-bold",children:e.sales})]},a)):(0,t.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No sales data this month"})})})]})]})]})}let te=(0,i.default)("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);var tt=e.i(993582);let ta=0,ts={toasts:[],listeners:[]};function tr(e){ts.toasts=ts.toasts.filter(t=>t.id!==e),ts.listeners.forEach(e=>e([...ts.toasts]))}var tn=e.i(345262);function tl(){let{toast:e}=function(){let[e,t]=(0,a.useState)([]);return(0,a.useState)(()=>{let e=e=>t(e);return ts.listeners.push(e),()=>{let t=ts.listeners.indexOf(e);t>-1&&ts.listeners.splice(t,1)}}),{toast:(0,a.useCallback)(e=>{let t;t={...e,id:String(++ta)},ts.toasts.push(t),ts.listeners.forEach(e=>e([...ts.toasts])),0!==e.duration&&setTimeout(()=>{tr(t.id)},e.duration||5e3)},[]),dismiss:(0,a.useCallback)(e=>{tr(e)},[]),toasts:e}}(),{closureStatus:s,loading:n,error:l,refreshStatus:i,allClosures:c,scheduledClosures:o}=(0,tn.useRestaurantClosure)(),[d,m]=(0,a.useState)(!1),[h,u]=(0,a.useState)(""),[x,f]=(0,a.useState)(""),[y,b]=(0,a.useState)(""),[N,v]=(0,a.useState)(""),[w,C]=(0,a.useState)(""),[k,S]=(0,a.useState)(""),[T,_]=(0,a.useState)(!1),E=c.find(e=>"manual"===e.closure_type&&e.is_active),I=!!E,D=async()=>{m(!0);try{let t=!I,a=await tn.RestaurantClosureManager.setManualClosure(t,t?h||"Manually closed by administrator":void 0);if(a.success)e({title:t?"Restaurant Closed":"Restaurant Opened",description:t?"Online ordering has been disabled manually":"Online ordering has been enabled",variant:t?"destructive":"default"}),u(""),await i();else throw Error(a.error)}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to update closure status",variant:"destructive"})}finally{m(!1)}},P=async()=>{if(!y||!N||!w||!k)return void e({title:"Missing Information",description:"Please fill in all date and time fields",variant:"destructive"});if(!x.trim())return void e({title:"Missing Reason",description:"Please provide a reason for this closure",variant:"destructive"});_(!0);try{let t=`${y}T${N}:00`,a=`${w}T${k}:00`,s=new Date(t).toISOString(),r=new Date(a).toISOString();if(new Date(r)<=new Date(s))throw Error("End time must be after start time");let n=await tn.RestaurantClosureManager.scheduleClosure(s,r,x);if(n.success)e({title:"Closure Scheduled",description:`Restaurant will close from ${new Date(s).toLocaleString()} to ${new Date(r).toLocaleString()}`}),f(""),b(""),v(""),C(""),S(""),await i();else throw Error(n.error)}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to schedule closure",variant:"destructive"})}finally{_(!1)}},B=async t=>{try{let a=await tn.RestaurantClosureManager.deleteClosure(t.id);if(a.success)e({title:"Closure Deleted",description:"The scheduled closure has been removed"}),await i();else throw Error(a.error)}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to delete closure",variant:"destructive"})}},A=e=>new Date(e).toLocaleString("en-ZA",{dateStyle:"medium",timeStyle:"short"});return n?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neonCyan"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"Restaurant Status Management"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Control when customers can place online orders"})]}),(0,t.jsxs)(r.Card,{className:`border-2 ${s.is_closed?"bg-red-500/10 border-red-500/30":"bg-green-500/10 border-green-500/30"}`,children:[(0,t.jsx)(r.CardHeader,{className:"pb-4",children:(0,t.jsx)(r.CardTitle,{className:`text-lg flex items-center gap-2 ${s.is_closed?"text-red-400":"text-green-400"}`,children:s.is_closed?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tt.PowerOff,{className:"h-5 w-5"}),"Restaurant Currently Closed"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{className:"h-5 w-5"}),"Restaurant Currently Open"]})})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:`font-medium ${s.is_closed?"text-red-300":"text-green-300"}`,children:s.is_closed?"Online ordering is disabled":"Online ordering is active"}),s.message&&(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:s.message}),"scheduled"===s.reason&&s.scheduled_end&&(0,t.jsxs)("p",{className:"text-yellow-400 text-sm flex items-center gap-2",children:[(0,t.jsx)(M.Clock,{className:"h-4 w-4"}),"Reopens: ",A(s.scheduled_end)]})]})})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(r.Card,{className:"bg-gradient-to-br from-red-500/10 to-red-500/5 border-red-500/20",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-red-400 text-lg flex items-center gap-2",children:[(0,t.jsx)(g,{className:"h-5 w-5"}),"Manual Control"]})}),(0,t.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(O.Label,{className:"text-white font-medium",children:"Immediate Closure"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Toggle restaurant status instantly"})]}),(0,t.jsx)(F.Switch,{checked:I,onCheckedChange:d?()=>{}:D,className:"data-[state=checked]:bg-red-500"})]}),!I&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{className:"text-white text-sm",children:"Closure Reason (Optional)"}),(0,t.jsx)(L.Textarea,{value:h,onChange:e=>u(e.target.value),placeholder:"e.g., Emergency maintenance, Staff training...",className:"bg-gray-800 border-gray-600 text-white resize-none",rows:2})]}),(0,t.jsx)(p.Button,{onClick:D,disabled:d,variant:I?"default":"destructive",className:"w-full",children:d?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{className:"h-4 w-4 mr-2"}),"Reopen Restaurant"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tt.PowerOff,{className:"h-4 w-4 mr-2"}),"Close Restaurant Now"]})}),I&&E&&(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-red-300 text-sm font-medium",children:"Active Since:"}),(0,t.jsx)("p",{className:"text-red-200 text-xs",children:A(E.created_at||"")}),E.reason&&(0,t.jsxs)("p",{className:"text-red-200 text-xs mt-1",children:["Reason: ",E.reason]})]}),(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-red-300 text-xs",children:[(0,t.jsx)(eH.AlertTriangle,{className:"h-3 w-3 inline mr-1"}),"Manual closure overrides any scheduled closures"]})})]})]}),(0,t.jsxs)(r.Card,{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-500/5 border-yellow-500/20",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-yellow-400 text-lg flex items-center gap-2",children:[(0,t.jsx)(eB.Plus,{className:"h-5 w-5"}),"Schedule New Closure"]})}),(0,t.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O.Label,{className:"text-white text-sm",children:"Reason for Closure"}),(0,t.jsx)(j.Input,{value:x,onChange:e=>f(e.target.value),placeholder:"e.g., Christmas Holiday, Staff Event...",className:"bg-gray-800 border-gray-600 text-white"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(O.Label,{className:"text-white text-sm",children:"Start Date"}),(0,t.jsx)(j.Input,{type:"date",value:y,onChange:e=>b(e.target.value),className:"bg-gray-800 border-gray-600 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(O.Label,{className:"text-white text-sm",children:"Start Time"}),(0,t.jsx)(j.Input,{type:"time",value:N,onChange:e=>v(e.target.value),className:"bg-gray-800 border-gray-600 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(O.Label,{className:"text-white text-sm",children:"End Date"}),(0,t.jsx)(j.Input,{type:"date",value:w,onChange:e=>C(e.target.value),className:"bg-gray-800 border-gray-600 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(O.Label,{className:"text-white text-sm",children:"End Time"}),(0,t.jsx)(j.Input,{type:"time",value:k,onChange:e=>S(e.target.value),className:"bg-gray-800 border-gray-600 text-white"})]})]}),(0,t.jsx)(p.Button,{onClick:P,disabled:T,className:"w-full bg-yellow-500/20 border border-yellow-500/30 text-yellow-400 hover:bg-yellow-500/30",children:T?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-400"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eJ.Calendar,{className:"h-4 w-4 mr-2"}),"Add Scheduled Closure"]})}),(0,t.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-yellow-300 text-xs",children:[(0,t.jsx)(te,{className:"h-3 w-3 inline mr-1"}),"You can schedule multiple closures (holidays, events, etc.)"]})})]})]})]}),(0,t.jsxs)(r.Card,{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border-blue-500/20",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"text-blue-400 text-lg flex items-center gap-2",children:[(0,t.jsx)(eJ.Calendar,{className:"h-5 w-5"}),"Scheduled Closures (",o.length,")"]})}),(0,t.jsx)(r.CardContent,{children:0===o.length?(0,t.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No scheduled closures. Use the form above to schedule holidays or maintenance periods."}):(0,t.jsx)("div",{className:"space-y-3",children:o.map(e=>{let a=new Date,s=new Date(e.start_time),r=new Date(e.end_time),n=s<=a&&r>=a,l=r<a;return(0,t.jsx)("div",{className:`p-4 rounded-lg border-2 ${n?"bg-red-500/10 border-red-500/30":l?"bg-gray-500/10 border-gray-500/20 opacity-60":"bg-blue-500/10 border-blue-500/30"}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[n&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs rounded-full font-medium",children:"ACTIVE NOW"}),s>a&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full font-medium",children:"UPCOMING"}),l&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-500 text-white text-xs rounded-full font-medium",children:"PAST"})]}),(0,t.jsx)("p",{className:"text-white font-medium",children:e.reason}),(0,t.jsxs)("p",{className:"text-gray-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(M.Clock,{className:"h-3 w-3"}),A(e.start_time)," → ",A(e.end_time)]})]}),(0,t.jsx)(p.Button,{onClick:()=>B(e),variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:(0,t.jsx)(eR.Trash2,{className:"h-4 w-4"})})]})},e.id)})})})]}),l&&(0,t.jsx)(r.Card,{className:"bg-red-500/10 border-red-500/30",children:(0,t.jsx)(r.CardContent,{className:"pt-6",children:(0,t.jsx)("p",{className:"text-red-400 text-sm",children:l})})})]})}var ti=e.i(973134),tc=e.i(657688);let to=(0,i.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),td=(0,i.default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var tm=e.i(778917),th=e.i(643531);let tu="https://littlelattelane.co.za/install",tx=()=>{let[e,s]=(0,a.useState)(""),[n,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{i()},[]);let i=async()=>{try{l(!1);let e=await ti.default.toDataURL(tu,{errorCorrectionLevel:"H",type:"image/png",quality:1,margin:2,color:{dark:"#000000",light:"#FFFFFF"},width:512});s(e),l(!0)}catch(e){console.error("Error generating permanent QR code:",e)}};return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(r.Card,{className:"bg-gradient-to-br from-gray-900 to-darkBg border-neonCyan/30",children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsxs)(r.CardTitle,{className:"flex items-center gap-2 text-neonCyan",children:[(0,t.jsx)(th.Check,{className:"w-5 h-5"}),"Permanent PWA Install QR Code"]}),(0,t.jsx)(r.CardDescription,{children:"Fixed QR code for printing and physical deployment. This QR code never changes!"})]}),(0,t.jsxs)(r.CardContent,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:n&&e?(0,t.jsx)(tc.default,{src:e,alt:"Permanent QR Code for Little Latte Lane App Installation",width:256,height:256,className:"mx-auto",unoptimized:!0}):(0,t.jsx)("div",{className:"w-64 h-64 bg-gray-200 flex items-center justify-center rounded",children:(0,t.jsx)("span",{className:"text-gray-500",children:"Generating QR Code..."})})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Permanent Install URL:"}),(0,t.jsx)("div",{className:"bg-gray-800 px-4 py-2 rounded font-mono text-sm text-neonCyan break-all",children:tu})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,t.jsxs)(p.Button,{onClick:()=>{if(!e)return;let t=document.createElement("a");t.href=e,t.download="little-latte-lane-install-qr-code.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)},disabled:!n,className:"bg-neonBlue hover:bg-blue-600 text-white",children:[(0,t.jsx)(to,{className:"w-4 h-4 mr-2"}),"Download PNG"]}),(0,t.jsxs)(p.Button,{onClick:()=>{if(!e)return;let t=window.open("","_blank");t&&(t.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Little Latte Lane - Install QR Code</title>
          <style>
            body {
              margin: 0;
              padding: 40px;
              font-family: Arial, sans-serif;
              text-align: center;
              background: white;
            }
            .qr-container {
              max-width: 400px;
              margin: 0 auto;
              padding: 20px;
              border: 2px solid #000;
              border-radius: 10px;
            }
            .qr-code {
              width: 300px;
              height: 300px;
              margin: 20px auto;
              display: block;
            }
            .title {
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 10px;
              color: #000;
            }
            .subtitle {
              font-size: 16px;
              margin-bottom: 20px;
              color: #333;
            }
            .url {
              font-size: 14px;
              font-family: monospace;
              background: #f5f5f5;
              padding: 10px;
              border-radius: 5px;
              margin-top: 20px;
              word-break: break-all;
            }
            .instructions {
              font-size: 12px;
              color: #666;
              margin-top: 15px;
              text-align: left;
            }
            @media print {
              body { margin: 0; padding: 20px; }
              .qr-container { border: 1px solid #000; }
            }
          </style>
        </head>
        <body>
          <div class="qr-container">
            <div class="title">Little Latte Lane</div>
            <div class="subtitle">Scan to Install Mobile App</div>
            <img src="${e}" alt="QR Code for Little Latte Lane App" class="qr-code" />
            <div class="url">${tu}</div>
            <div class="instructions">
              <strong>Instructions:</strong><br>
              1. Open your phone's camera app<br>
              2. Point it at this QR code<br>
              3. Tap the notification to install<br>
              4. Or visit the URL above manually
            </div>
          </div>
        </body>
      </html>
    `),t.document.close(),setTimeout(()=>{t.print(),t.close()},500))},disabled:!n,className:"bg-neonGreen hover:bg-green-600 text-white",children:[(0,t.jsx)(td,{className:"w-4 h-4 mr-2"}),"Print QR Code"]}),(0,t.jsxs)(p.Button,{onClick:()=>{window.open(tu,"_blank")},variant:"outline",className:"border-neonCyan text-neonCyan hover:bg-neonCyan hover:text-black",children:[(0,t.jsx)(tm.ExternalLink,{className:"w-4 h-4 mr-2"}),"Test Install Page"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-neonPink/20 to-neonCyan/20 border border-neonPink/30 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-bold text-neonPink mb-2",children:"🔒 PERMANENT QR CODE"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-300 space-y-1",children:[(0,t.jsx)("li",{children:"• This QR code URL never changes - safe for printing"}),(0,t.jsx)("li",{children:"• High error correction (Level H) for damaged/worn prints"}),(0,t.jsx)("li",{children:"• Works on all devices and browsers"}),(0,t.jsx)("li",{children:"• Direct install page with manual instructions"}),(0,t.jsx)("li",{children:"• 512x512 resolution optimal for printing"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-bold text-neonGreen mb-2",children:"� BACKUP PLAN"}),(0,t.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"If QR scanning fails, users can manually visit:"}),(0,t.jsx)("div",{className:"bg-black px-3 py-2 rounded font-mono text-xs text-neonCyan",children:"littlelattelane.co.za/install"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"This page provides platform-specific installation instructions"})]})]})]})})};var tg=e.i(929592);let tf=(0,i.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),tp=(0,i.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var ty=e.i(664659),tj=e.i(399219),tj=tj,tb=e.i(531278),tN=e.i(373884),tv=e.i(494913),tw=e.i(55545),tC=e.i(455024),tk=e.i(99151),tS=e.i(845110),tM=e.i(234662),tT=e.i(281092);function t_(e,t){let a=(0,tT.toDate)(e,t?.in);return a.setHours(0,0,0,0),a}function tE(e,t){let a=(0,tC.getDefaultOptions)(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=(0,tT.toDate)(e,t?.in),n=r.getDay();return r.setDate(r.getDate()-(7*(n<s)+n-s)),r.setHours(0,0,0,0),r}function tI(e,t){return tE(e,{...t,weekStartsOn:1})}var tD=e.i(677241);function tP(e,t){let a=(0,tT.toDate)(e,t?.in),s=a.getFullYear(),r=(0,tD.constructFrom)(a,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);let n=tI(r),l=(0,tD.constructFrom)(a,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);let i=tI(l);return a.getTime()>=n.getTime()?s+1:a.getTime()>=i.getTime()?s:s-1}function tB(e,t){let a=(0,tT.toDate)(e,t?.in),s=a.getFullYear(),r=(0,tC.getDefaultOptions)(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=(0,tD.constructFrom)(t?.in||e,0);l.setFullYear(s+1,0,n),l.setHours(0,0,0,0);let i=tE(l,t),c=(0,tD.constructFrom)(t?.in||e,0);c.setFullYear(s,0,n),c.setHours(0,0,0,0);let o=tE(c,t);return+a>=+i?s+1:+a>=+o?s:s-1}function tA(e,t){let a=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+a}let tR={y(e,t){let a=e.getFullYear(),s=a>0?a:1-a;return tA("yy"===t?s%100:s,t.length)},M(e,t){let a=e.getMonth();return"M"===t?String(a+1):tA(a+1,2)},d:(e,t)=>tA(e.getDate(),t.length),a(e,t){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return"am"===a?"a.m.":"p.m."}},h:(e,t)=>tA(e.getHours()%12||12,t.length),H:(e,t)=>tA(e.getHours(),t.length),m:(e,t)=>tA(e.getMinutes(),t.length),s:(e,t)=>tA(e.getSeconds(),t.length),S(e,t){let a=t.length;return tA(Math.trunc(e.getMilliseconds()*Math.pow(10,a-3)),t.length)}},tL={G:function(e,t,a){let s=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"});case"GGGGG":return a.era(s,{width:"narrow"});default:return a.era(s,{width:"wide"})}},y:function(e,t,a){if("yo"===t){let t=e.getFullYear();return a.ordinalNumber(t>0?t:1-t,{unit:"year"})}return tR.y(e,t)},Y:function(e,t,a,s){let r=tB(e,s),n=r>0?r:1-r;return"YY"===t?tA(n%100,2):"Yo"===t?a.ordinalNumber(n,{unit:"year"}):tA(n,t.length)},R:function(e,t){return tA(tP(e),t.length)},u:function(e,t){return tA(e.getFullYear(),t.length)},Q:function(e,t,a){let s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return tA(s,2);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});default:return a.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,a){let s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return tA(s,2);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});default:return a.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,a){let s=e.getMonth();switch(t){case"M":case"MM":return tR.M(e,t);case"Mo":return a.ordinalNumber(s+1,{unit:"month"});case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});default:return a.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,a){let s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return tA(s+1,2);case"Lo":return a.ordinalNumber(s+1,{unit:"month"});case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});default:return a.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,a,s){let r,n,l,i,c,o=Math.round((tE(r=(0,tT.toDate)(e,s?.in),s)-(n=(0,tC.getDefaultOptions)(),l=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=tB(r,s),(c=(0,tD.constructFrom)(s?.in||r,0)).setFullYear(i,0,l),c.setHours(0,0,0,0),tE(c,s)))/tM.millisecondsInWeek)+1;return"wo"===t?a.ordinalNumber(o,{unit:"week"}):tA(o,t.length)},I:function(e,t,a){let s,r,n,l=Math.round((tI(s=(0,tT.toDate)(e,void 0))-(r=tP(s,void 0),(n=(0,tD.constructFrom)(s,0)).setFullYear(r,0,4),n.setHours(0,0,0,0),tI(n)))/tM.millisecondsInWeek)+1;return"Io"===t?a.ordinalNumber(l,{unit:"week"}):tA(l,t.length)},d:function(e,t,a){return"do"===t?a.ordinalNumber(e.getDate(),{unit:"date"}):tR.d(e,t)},D:function(e,t,a){let s,r,n=function(e,t,a){let[s,r]=(0,tS.normalizeDates)(void 0,e,t),n=t_(s),l=t_(r);return Math.round((n-(0,tk.getTimezoneOffsetInMilliseconds)(n)-(l-(0,tk.getTimezoneOffsetInMilliseconds)(l)))/tM.millisecondsInDay)}(s=(0,tT.toDate)(e,void 0),((r=(0,tT.toDate)(s,void 0)).setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r))+1;return"Do"===t?a.ordinalNumber(n,{unit:"dayOfYear"}):tA(n,t.length)},E:function(e,t,a){let s=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"});default:return a.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,a,s){let r=e.getDay(),n=(r-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(n);case"ee":return tA(n,2);case"eo":return a.ordinalNumber(n,{unit:"day"});case"eee":return a.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,a,s){let r=e.getDay(),n=(r-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(n);case"cc":return tA(n,t.length);case"co":return a.ordinalNumber(n,{unit:"day"});case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"});default:return a.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,a){let s=e.getDay(),r=0===s?7:s;switch(t){case"i":return String(r);case"ii":return tA(r,t.length);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return a.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(s,{width:"short",context:"formatting"});default:return a.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,a){let s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,a){let s,r=e.getHours();switch(s=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,a){let s,r=e.getHours();switch(s=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,a){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),a.ordinalNumber(t,{unit:"hour"})}return tR.h(e,t)},H:function(e,t,a){return"Ho"===t?a.ordinalNumber(e.getHours(),{unit:"hour"}):tR.H(e,t)},K:function(e,t,a){let s=e.getHours()%12;return"Ko"===t?a.ordinalNumber(s,{unit:"hour"}):tA(s,t.length)},k:function(e,t,a){let s=e.getHours();return(0===s&&(s=24),"ko"===t)?a.ordinalNumber(s,{unit:"hour"}):tA(s,t.length)},m:function(e,t,a){return"mo"===t?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):tR.m(e,t)},s:function(e,t,a){return"so"===t?a.ordinalNumber(e.getSeconds(),{unit:"second"}):tR.s(e,t)},S:function(e,t){return tR.S(e,t)},X:function(e,t,a){let s=e.getTimezoneOffset();if(0===s)return"Z";switch(t){case"X":return tO(s);case"XXXX":case"XX":return tU(s);default:return tU(s,":")}},x:function(e,t,a){let s=e.getTimezoneOffset();switch(t){case"x":return tO(s);case"xxxx":case"xx":return tU(s);default:return tU(s,":")}},O:function(e,t,a){let s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tF(s,":");default:return"GMT"+tU(s,":")}},z:function(e,t,a){let s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tF(s,":");default:return"GMT"+tU(s,":")}},t:function(e,t,a){return tA(Math.trunc(e/1e3),t.length)},T:function(e,t,a){return tA(+e,t.length)}};function tF(e,t=""){let a=e>0?"-":"+",s=Math.abs(e),r=Math.trunc(s/60),n=s%60;return 0===n?a+String(r):a+String(r)+t+tA(n,2)}function tO(e,t){return e%60==0?(e>0?"-":"+")+tA(Math.abs(e)/60,2):tU(e,t)}function tU(e,t=""){let a=Math.abs(e);return(e>0?"-":"+")+tA(Math.trunc(a/60),2)+t+tA(a%60,2)}let tH=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},tq=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},tz={p:tq,P:(e,t)=>{let a,s=e.match(/(P+)(p+)?/)||[],r=s[1],n=s[2];if(!n)return tH(e,t);switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",tH(r,t)).replace("{{time}}",tq(n,t))}},tY=/^D+$/,t$=/^Y+$/,tV=["D","DD","YY","YYYY"],tQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tW=/^'([^]*?)'?$/,tG=/''/g,tJ=/[a-zA-Z]/;function tX(){let[e,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),[c,o]=(0,a.useState)(null),[d,m]=(0,a.useState)(new Set),[u,x]=(0,a.useState)("all"),[g,f]=(0,a.useState)("all"),j=(0,a.useCallback)(async()=>{try{i(!0),o(null);let e=(0,eP.getSupabaseClient)().from("broadcast_messages").select("*").order("created_at",{ascending:!1}).limit(50);"all"!==u&&(e=e.eq("status",u)),"all"!==g&&(e="everyone"===g?e.eq("target_audience","all"):e.eq("target_audience",g));let{data:t,error:a}=await e;if(a){console.error("Error loading broadcast history:",a),o("Failed to load broadcast history");return}s(t||[])}catch(e){console.error("Error in loadBroadcasts:",e),o("An unexpected error occurred")}finally{i(!1)}},[u,g]);(0,a.useEffect)(()=>{j()},[j]);let b=e=>{if(!e)return"Unknown";try{return function(e,t,a){let s=(0,tC.getDefaultOptions)(),r=(void 0)??s.locale??tw.defaultLocale,n=(void 0)??void 0??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=(void 0)??void 0??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,i=(0,tT.toDate)(e,void 0);if(!(i instanceof Date||"object"==typeof i&&"[object Date]"===Object.prototype.toString.call(i))&&"number"!=typeof i||isNaN(+(0,tT.toDate)(i)))throw RangeError("Invalid time value");let c=t.match(tK).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,tz[t])(e,r.formatLong):e}).join("").match(tQ).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var a;let t;return{isToken:!1,value:(t=(a=e).match(tW))?t[1].replace(tG,"'"):a}}if(tL[t])return{isToken:!0,value:e};if(t.match(tJ))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});r.localize.preprocessor&&(c=r.localize.preprocessor(i,c));let o={firstWeekContainsDate:n,weekStartsOn:l,locale:r};return c.map(a=>{if(!a.isToken)return a.value;let s=a.value;return(t$.test(s)||tY.test(s))&&function(e,t,a){var s,r,n;let l,i=(s=e,r=t,n=a,l="Y"===s[0]?"years":"days of the month",`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${r}\`) for formatting ${l} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(i),tV.includes(e))throw RangeError(i)}(s,t,String(e)),(0,tL[s[0]])(i,s,r.localize,o)}).join("")}(new Date(e),"MMM d, yyyy h:mm a")}catch{return"Invalid date"}};return n?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(tb.Loader2,{className:"h-8 w-8 text-neonCyan animate-spin"})}):c?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(E.AlertCircle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-red-400 mb-2",children:c}),(0,t.jsx)(p.Button,{onClick:j,className:"bg-neonCyan text-black hover:bg-cyan-400",children:"Try Again"})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(S.Filter,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Status:"}),[{value:"all",label:"All Status"},{value:"sent",label:"Sent"},{value:"scheduled",label:"Scheduled"},{value:"failed",label:"Failed"}].map(e=>(0,t.jsx)(p.Button,{onClick:()=>x(e.value),variant:u===e.value?"default":"outline",size:"sm",className:u===e.value?"bg-neonCyan text-black hover:bg-cyan-400":"border-gray-600 text-gray-300 hover:bg-gray-700",children:e.label},e.value))]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Users,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Audience:"}),[{value:"all",label:"All Audiences"},{value:"everyone",label:"Everyone"},{value:"customers",label:"Customers"},{value:"staff",label:"Staff"}].map(e=>(0,t.jsx)(p.Button,{onClick:()=>f(e.value),variant:g===e.value?"default":"outline",size:"sm",className:g===e.value?"bg-neonPink text-black hover:bg-pink-400":"border-gray-600 text-gray-300 hover:bg-gray-700",children:e.label},e.value))]})]}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(eJ.Calendar,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400 mb-2",children:"No broadcasts found"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"all"===u&&"all"===g?"Broadcast history will appear here":"Try adjusting your filters"})]}):(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>{var a,s,n,i,c;let o,u,x=d.has(e.id),g=(a=e.delivered_count,s=e.recipient_count,a&&s&&0!==s?Math.round(a/s*100):0),f=(n=e.read_count,i=e.delivered_count,n&&i&&0!==i?Math.round(n/i*100):0);return(0,t.jsxs)(r.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsx)(r.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-white text-base",children:e.title}),(e=>{switch(e){case"sent":return(0,t.jsxs)(y.Badge,{className:"bg-green-600 text-white flex items-center gap-1",children:[(0,t.jsx)(h.CheckCircle,{className:"h-3 w-3"}),"Sent"]});case"scheduled":return(0,t.jsxs)(y.Badge,{className:"bg-blue-600 text-white flex items-center gap-1",children:[(0,t.jsx)(M.Clock,{className:"h-3 w-3"}),"Scheduled"]});case"failed":return(0,t.jsxs)(y.Badge,{className:"bg-red-600 text-white flex items-center gap-1",children:[(0,t.jsx)(tN.XCircle,{className:"h-3 w-3"}),"Failed"]});default:return(0,t.jsx)(y.Badge,{variant:"outline",className:"border-gray-500 text-gray-400",children:"Unknown"})}})(e.status),(o=({all:"bg-purple-600",customers:"bg-neonCyan",staff:"bg-neonPink"})[c=e.target_audience]||"bg-gray-600",u="all"===c?"Everyone":c?c.charAt(0).toUpperCase()+c.slice(1):"Unknown",(0,t.jsxs)(y.Badge,{className:`${o} text-white`,children:[(0,t.jsx)(l.Users,{className:"h-3 w-3 mr-1"}),u]}))]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 line-clamp-2",children:e.body})]}),(0,t.jsx)(p.Button,{onClick:()=>{var t;return t=e.id,void m(e=>{let a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a})},variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:x?(0,t.jsx)(tj.default,{className:"h-5 w-5"}):(0,t.jsx)(ty.ChevronDown,{className:"h-5 w-5"})})]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[(0,t.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Recipients"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:e.recipient_count||0})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Delivered"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-green-400",children:[e.delivered_count||0,(0,t.jsxs)("span",{className:"text-xs text-gray-400 ml-1",children:["(",g,"%)"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Read"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-blue-400",children:[e.read_count||0,(0,t.jsxs)("span",{className:"text-xs text-gray-400 ml-1",children:["(",f,"%)"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"scheduled"===e.status?"Scheduled For":"Sent"}),(0,t.jsx)("p",{className:"text-sm font-medium text-white",children:(e=>{if(!e)return"Unknown";try{return(0,tv.formatDistanceToNow)(new Date(e),{addSuffix:!0})}catch{return"Unknown"}})("scheduled"===e.status?e.scheduled_for:e.sent_at)})]})]}),x&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-700 space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 mb-1",children:"Created:"}),(0,t.jsx)("p",{className:"text-white",children:b(e.created_at)})]}),e.sent_at&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 mb-1",children:"Sent:"}),(0,t.jsx)("p",{className:"text-white",children:b(e.sent_at)})]}),e.scheduled_for&&"scheduled"===e.status&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 mb-1",children:"Scheduled For:"}),(0,t.jsx)("p",{className:"text-white",children:b(e.scheduled_for)})]}),e.image_url&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("p",{className:"text-gray-400 mb-1",children:"Image URL:"}),(0,t.jsx)("p",{className:"text-neonCyan text-xs break-all",children:e.image_url})]})]}),e.error_message&&(0,t.jsx)("div",{className:"bg-red-900/20 border border-red-600 rounded p-3",children:(0,t.jsxs)("p",{className:"text-red-400 text-sm flex items-center gap-2",children:[(0,t.jsx)(E.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"font-medium",children:"Error:"}),e.error_message]})}),"sent"===e.status&&(0,t.jsxs)("div",{className:"bg-gray-700 p-3 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Performance"}),(0,t.jsx)(eW,{className:"h-4 w-4 text-neonCyan"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Delivery Rate"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[g,"%"]})]}),(0,t.jsx)("div",{className:"h-2 bg-gray-600 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500",style:{width:`${g}%`}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Read Rate"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[f,"%"]})]}),(0,t.jsx)("div",{className:"h-2 bg-gray-600 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-blue-500",style:{width:`${f}%`}})})]})]})]})]})]})]},e.id)})}),e.length>=50&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(p.Button,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Load More"})})]})}function tZ(){let[s,n]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),[o,d]=(0,a.useState)(""),[m,u]=(0,a.useState)("all"),[x,g]=(0,a.useState)(""),[b,N]=(0,a.useState)(!1),[v,w]=(0,a.useState)(null),[C,k]=(0,a.useState)("compose"),S=async()=>{if(!s.trim()||!i.trim())return void A.default.error("Please enter both title and message");N(!0),w(null);try{let e={title:s.trim(),body:i.trim(),image_url:o.trim()||void 0,target_audience:m,scheduled_for:null},t=await fetch("/api/notifications/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to send notification")}let a=await t.json();w({success:!0,message:`Notification sent to ${a.recipientCount||0} users`,recipientCount:a.recipientCount}),A.default.success(`📣 Broadcast sent to ${a.recipientCount||0} users!`,{duration:5e3}),n(""),c(""),d("")}catch(e){console.error("Failed to send broadcast:",e),w({success:!1,message:e instanceof Error?e.message:"Failed to send notification"}),A.default.error("Failed to send broadcast notification")}finally{N(!1)}},T=async()=>{if(!s.trim()||!i.trim())return void A.default.error("Please enter both title and message");if(!x)return void A.default.error("Please select a date and time to schedule");let e=new Date(x);if(e<=new Date)return void A.default.error("Scheduled time must be in the future");N(!0),w(null);try{let t={title:s.trim(),body:i.trim(),image_url:o.trim()||void 0,target_audience:m,scheduled_for:e.toISOString()},a=await fetch("/api/notifications/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to schedule notification")}await a.json(),w({success:!0,message:`Notification scheduled for ${e.toLocaleString()}`}),A.default.success("📅 Notification scheduled successfully!",{duration:5e3}),n(""),c(""),d(""),g("")}catch(e){console.error("Failed to schedule broadcast:",e),w({success:!1,message:e instanceof Error?e.message:"Failed to schedule notification"}),A.default.error("Failed to schedule notification")}finally{N(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-2 border-b border-gray-700 pb-2",children:[(0,t.jsxs)(p.Button,{onClick:()=>k("compose"),variant:"compose"===C?"default":"ghost",className:"compose"===C?"bg-neonCyan text-black hover:bg-cyan-400":"text-gray-400 hover:text-white",children:[(0,t.jsx)(tf,{className:"h-4 w-4 mr-2"}),"Compose Broadcast"]}),(0,t.jsxs)(p.Button,{onClick:()=>k("history"),variant:"history"===C?"default":"ghost",className:"history"===C?"bg-neonPink text-black hover:bg-pink-400":"text-gray-400 hover:text-white",children:[(0,t.jsx)(tp,{className:"h-4 w-4 mr-2"}),"Broadcast History"]})]}),"compose"===C&&(0,t.jsxs)(t.Fragment,{children:["\\n      ",(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Send Broadcast Notification"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Send push notifications to users. Messages are sent to all users with notifications enabled."})]}),(0,t.jsxs)(r.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsxs)(r.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(f.Bell,{className:"h-5 w-5 text-neonCyan"}),"Compose Notification"]}),(0,t.jsx)(r.CardDescription,{className:"text-gray-400",children:"Create a notification message to send to your users"})]}),(0,t.jsxs)(r.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(O.Label,{htmlFor:"title",className:"text-white",children:["Notification Title ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)(j.Input,{id:"title",value:s,onChange:e=>n(e.target.value),placeholder:"e.g., Special Offer Today!",maxLength:100,className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[s.length,"/100 characters"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(O.Label,{htmlFor:"body",className:"text-white",children:["Message ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)(L.Textarea,{id:"body",value:i,onChange:e=>c(e.target.value),placeholder:"Enter your notification message here...",rows:4,maxLength:500,className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400 resize-none"}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[i.length,"/500 characters"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(O.Label,{htmlFor:"imageUpload",className:"text-white flex items-center gap-2",children:[(0,t.jsx)(eF,{className:"h-4 w-4"}),"Upload Image (Optional)"]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(j.Input,{id:"imageUpload",type:"file",accept:"image/*",onChange:async t=>{let a=t.target.files?.[0];if(a){if(a.size>5242880){A.default.error("Image must be less than 5MB"),t.target.value="";return}if(!a.type.startsWith("image/")){A.default.error("Please select an image file"),t.target.value="";return}try{A.default.loading("Uploading image...");let s=a.name.split(".").pop(),r=`${Math.random().toString(36).substring(2)}-${Date.now()}.${s}`,n=`notification-images/${r}`,{getSupabaseClient:l}=await e.A(9553),i=l(),{data:c,error:o}=await i.storage.from("public-assets").upload(n,a,{cacheControl:"3600",upsert:!1});if(o){console.error("Upload error:",o),A.default.dismiss(),A.default.error("Failed to upload image: "+o.message),t.target.value="";return}let{data:{publicUrl:m}}=i.storage.from("public-assets").getPublicUrl(c.path);d(m),A.default.dismiss(),A.default.success("Image uploaded successfully!"),t.target.value=""}catch(e){console.error("Upload exception:",e),A.default.dismiss(),A.default.error("Failed to upload image"),t.target.value=""}}},className:"bg-gray-700 border-gray-600 text-white file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-neonCyan file:text-black hover:file:bg-cyan-400"})}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Upload an image (max 5MB, JPG/PNG/GIF/WebP)"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(O.Label,{htmlFor:"imageUrl",className:"text-white flex items-center gap-2",children:[(0,t.jsx)(eF,{className:"h-4 w-4"}),"Or Enter Image URL"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.Input,{id:"imageUrl",value:o,onChange:e=>d(e.target.value),placeholder:"https://example.com/image.jpg",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"}),o&&(0,t.jsx)(p.Button,{onClick:()=>d(""),variant:"outline",size:"icon",className:"border-gray-600 text-gray-400 hover:bg-gray-700",children:(0,t.jsx)(eU.X,{className:"h-4 w-4"})})]}),o&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-gray-700 rounded border border-gray-600",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Image Preview:"}),(0,t.jsx)("div",{className:"relative w-full h-40",children:(0,t.jsx)(tc.default,{src:o,alt:"Notification preview",fill:!0,className:"object-contain rounded",onError:()=>{A.default.error("Failed to load image")}})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(O.Label,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(l.Users,{className:"h-4 w-4"}),"Target Audience"]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsx)(p.Button,{onClick:()=>u("all"),variant:"all"===m?"default":"outline",className:"all"===m?"bg-neonCyan text-darkBg hover:bg-neonCyan/90":"border-gray-600 text-gray-300 hover:bg-gray-700",children:"All Users"}),(0,t.jsx)(p.Button,{onClick:()=>u("customers"),variant:"customers"===m?"default":"outline",className:"customers"===m?"bg-neonCyan text-darkBg hover:bg-neonCyan/90":"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Customers"}),(0,t.jsx)(p.Button,{onClick:()=>u("staff"),variant:"staff"===m?"default":"outline",className:"staff"===m?"bg-neonCyan text-darkBg hover:bg-neonCyan/90":"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Staff Only"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:(()=>{switch(m){case"all":return"All users with notifications enabled";case"customers":return"Only customers (non-staff users)";case"staff":return"Only staff and admin users";default:return""}})()})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(O.Label,{htmlFor:"scheduledFor",className:"text-white flex items-center gap-2",children:[(0,t.jsx)(M.Clock,{className:"h-4 w-4"}),"Schedule (Optional)"]}),(0,t.jsx)(j.Input,{id:"scheduledFor",type:"datetime-local",value:x,onChange:e=>g(e.target.value),min:new Date().toISOString().slice(0,16),className:"bg-gray-700 border-gray-600 text-white"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Leave empty to send immediately, or select a date/time to schedule"})]}),v&&(0,t.jsxs)(tg.Alert,{className:v.success?"border-green-500/50 bg-green-500/10":"border-red-500/50 bg-red-500/10",children:[v.success?(0,t.jsx)(h.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(E.AlertCircle,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)(tg.AlertDescription,{className:"text-white",children:v.message})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)(p.Button,{onClick:S,disabled:b||!s.trim()||!i.trim(),className:"flex-1 bg-neonCyan text-darkBg font-bold hover:bg-neonCyan/90 disabled:opacity-50",children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"animate-spin mr-2",children:"⏳"}),"Sending..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tf,{className:"mr-2 h-4 w-4"}),"Send Now"]})}),x&&(0,t.jsx)(p.Button,{onClick:T,disabled:b||!s.trim()||!i.trim(),variant:"outline",className:"flex-1 border-neonPink text-neonPink hover:bg-neonPink/20 disabled:opacity-50",children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"animate-spin mr-2",children:"⏳"}),"Scheduling..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.Clock,{className:"mr-2 h-4 w-4"}),"Schedule"]})})]})]})]}),(s||i)&&(0,t.jsxs)(r.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{className:"text-white",children:"Notification Preview"}),(0,t.jsx)(r.CardDescription,{className:"text-gray-400",children:"How your notification will appear to users"})]}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"bg-gray-900 border border-gray-600 rounded-lg p-4 max-w-md",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-neonCyan/20 rounded-full flex items-center justify-center",children:(0,t.jsx)(f.Bell,{className:"h-5 w-5 text-neonCyan"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold text-sm",children:s||"Notification Title"}),(0,t.jsx)(y.Badge,{className:"bg-blue-600/20 text-blue-300 border-blue-600/50 text-xs",children:"now"})]}),(0,t.jsx)("p",{className:"text-gray-300 text-sm break-words",children:i||"Your notification message will appear here..."}),o&&(0,t.jsx)("div",{className:"relative w-full h-32 mt-2",children:(0,t.jsx)(tc.default,{src:o,alt:"Notification",fill:!0,className:"object-contain rounded"})})]})]})})})]}),(0,t.jsxs)(r.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{className:"text-white text-lg",children:"📋 Broadcast Guidelines"})}),(0,t.jsxs)(r.CardContent,{className:"space-y-2 text-sm text-gray-400",children:[(0,t.jsx)("p",{children:"• Notifications are sent only to users who have enabled push notifications"}),(0,t.jsx)("p",{children:"• Keep titles concise and engaging (max 100 characters)"}),(0,t.jsx)("p",{children:"• Messages should be clear and actionable (max 500 characters)"}),(0,t.jsx)("p",{children:"• Upload images directly (max 5MB) or provide a public URL (HTTPS recommended)"}),(0,t.jsx)("p",{children:"• Uploaded images are stored in Supabase storage"}),(0,t.jsx)("p",{children:"• Scheduled notifications will be sent at the specified time"}),(0,t.jsx)("p",{children:"• Failed deliveries are logged and can be reviewed in the history"})]})]})]}),"history"===C&&(0,t.jsx)(tX,{})]})}let t0=[{id:"analytics",label:"Analytics",icon:c,color:"green-500"},{id:"bookings",label:"Booking Management",icon:m,color:"green-500"},{id:"content",label:"Content Management",icon:h.CheckCircle,color:"neonPink"},{id:"menu",label:"Menu Management",icon:n.Menu,color:"neonCyan"},{id:"notifications",label:"Notifications",icon:f.Bell,color:"blue-500"},{id:"orders",label:"Order Management",icon:o.ShoppingBag,color:"neonPink"},{id:"overview",label:"Overview",icon:c,color:"neonCyan"},{id:"qrcode",label:"QR Code & App",icon:x,color:"orange-500"},{id:"closure",label:"Restaurant Status",icon:g,color:"red-500"},{id:"users",label:"User Management",icon:l.Users,color:"purple-500"}];function t1(){let{profile:e}=(0,s.useAuth)(),[n,l]=(0,a.useState)("overview");return e?.is_admin?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 relative overflow-x-hidden",children:[(0,t.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute -top-4 -left-4 w-96 h-96 bg-neonCyan/5 rounded-full blur-3xl animate-pulse"}),(0,t.jsx)("div",{className:"absolute top-1/2 -right-4 w-96 h-96 bg-neonPink/5 rounded-full blur-3xl animate-pulse delay-1000"}),(0,t.jsx)("div",{className:"absolute -bottom-4 left-1/2 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-2000"})]}),(0,t.jsxs)("div",{className:"relative z-10 w-full",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-gray-900/90 to-black/90 backdrop-blur-xl border-b border-gray-700/50 sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-white via-neonCyan to-neonPink bg-clip-text text-transparent",children:"Admin Dashboard"}),(0,t.jsxs)("p",{className:"text-gray-400 text-sm mt-1 truncate",children:["Welcome back, ",e?.full_name||"Admin"," • Manage your restaurant operations"]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 px-2 sm:px-3 py-2 bg-green-500/10 border border-green-500/30 rounded-lg",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-green-400 text-xs font-medium hidden sm:inline",children:"SYSTEM ONLINE"}),(0,t.jsx)("span",{className:"text-green-400 text-xs font-medium sm:hidden",children:"ONLINE"})]})})]}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("div",{className:"bg-gray-800/30 backdrop-blur-sm p-2 rounded-2xl border border-gray-700/30 shadow-2xl",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:t0.map(e=>{let a=e.icon,s=n===e.id;return(0,t.jsxs)("button",{onClick:()=>l(e.id),className:`relative flex items-center gap-2 px-4 lg:px-6 py-3 rounded-xl text-xs lg:text-sm font-semibold transition-all duration-300 whitespace-nowrap transform hover:scale-105 ${s?"bg-gradient-to-r from-neonCyan/30 via-neonPink/20 to-neonCyan/30 text-white border-2 border-neonCyan/50 shadow-lg shadow-neonCyan/20 backdrop-blur-sm":"text-gray-300 bg-gray-800/40 border-2 border-gray-600/50 hover:text-white hover:bg-gray-700/60 hover:border-gray-500/70 hover:shadow-lg hover:shadow-gray-500/20 backdrop-blur-sm"}`,children:[s&&(0,t.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-neonCyan/10 to-neonPink/10 blur-sm"}),(0,t.jsx)(a,{className:`relative z-10 h-4 w-4 ${s?"text-neonCyan drop-shadow-sm":""}`}),(0,t.jsx)("span",{className:"relative z-10 hidden sm:inline font-medium",children:e.label}),(0,t.jsx)("span",{className:"relative z-10 sm:hidden font-medium",children:e.label.split(" ")[0]})]},e.id)})})})})]})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:(0,t.jsxs)("div",{className:"relative w-full overflow-x-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-neonCyan/10 via-transparent to-neonPink/10 border border-neonCyan/20 pointer-events-none"}),(0,t.jsx)("div",{className:"relative z-10 p-6 rounded-2xl",children:(()=>{switch(n){case"overview":default:return(0,t.jsx)(e9,{});case"closure":return(0,t.jsx)(tl,{});case"content":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"Content Management System"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-6",children:"Edit your website pages, homepage content, and media with React Bricks CMS"})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)(r.Card,{className:"bg-gradient-to-br from-neonPink/10 to-neonPink/5 border-neonPink/20 hover:border-neonPink/40 transition-all duration-300 hover:shadow-lg hover:shadow-neonPink/10",children:[(0,t.jsx)(r.CardHeader,{className:"pb-3",children:(0,t.jsxs)(r.CardTitle,{className:"text-neonPink text-lg flex items-center gap-2",children:[(0,t.jsx)(d.Shield,{className:"h-5 w-5"}),"CMS Login"]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("p",{className:"text-gray-300 text-sm mb-4",children:"Access the content management system to edit your website pages"}),(0,t.jsx)("a",{href:"/admin/cms",className:"inline-flex items-center justify-center w-full px-4 py-2 bg-neonPink/20 border border-neonPink/30 text-neonPink rounded-lg hover:bg-neonPink/30 transition-all duration-200 font-medium",children:"Login to CMS →"})]})]}),(0,t.jsxs)(r.Card,{className:"bg-gradient-to-br from-neonCyan/10 to-neonCyan/5 border-neonCyan/20 hover:border-neonCyan/40 transition-all duration-300 hover:shadow-lg hover:shadow-neonCyan/10",children:[(0,t.jsx)(r.CardHeader,{className:"pb-3",children:(0,t.jsxs)(r.CardTitle,{className:"text-neonCyan text-lg flex items-center gap-2",children:[(0,t.jsx)(h.CheckCircle,{className:"h-5 w-5"}),"Page Editor"]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("p",{className:"text-gray-300 text-sm mb-4",children:"Edit homepage content, text, images and layout visually"}),(0,t.jsx)("a",{href:"/admin/editor",className:"inline-flex items-center justify-center w-full px-4 py-2 bg-neonCyan/20 border border-neonCyan/30 text-neonCyan rounded-lg hover:bg-neonCyan/30 transition-all duration-200 font-medium",children:"Open Editor →"})]})]}),(0,t.jsxs)(r.Card,{className:"bg-gradient-to-br from-purple-500/10 to-purple-500/5 border-purple-500/20 hover:border-purple-500/40 transition-all duration-300 hover:shadow-lg hover:shadow-purple-500/10",children:[(0,t.jsx)(r.CardHeader,{className:"pb-3",children:(0,t.jsxs)(r.CardTitle,{className:"text-purple-400 text-lg flex items-center gap-2",children:[(0,t.jsx)(m,{className:"h-5 w-5"}),"Media Library"]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("p",{className:"text-gray-300 text-sm mb-4",children:"Manage images, videos and other media files for your website"}),(0,t.jsx)("a",{href:"/admin/media",className:"inline-flex items-center justify-center w-full px-4 py-2 bg-purple-500/20 border border-purple-500/30 text-purple-400 rounded-lg hover:bg-purple-500/30 transition-all duration-200 font-medium",children:"Media Library →"})]})]})]})]});case"menu":return(0,t.jsx)(eQ,{});case"notifications":return(0,t.jsx)(tZ,{});case"orders":return(0,t.jsx)(R,{});case"bookings":return(0,t.jsx)(e8,{});case"users":return(0,t.jsx)(e5,{});case"analytics":return(0,t.jsx)(eX,{});case"qrcode":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"QR Code & App Installation"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Generate QR codes for customers to easily access and install your app"})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(tx,{})})]})}})()})]})}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-gray-900/90 to-black/90 backdrop-blur-xl border-t border-gray-700/50 mt-12",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.CheckCircle,{className:"h-4 sm:h-5 w-4 sm:w-5 text-green-400 flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-xs sm:text-sm text-gray-300",children:["Core Systems: ",(0,t.jsx)("span",{className:"text-green-400 font-medium",children:"Operational"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m,{className:"h-4 sm:h-5 w-4 sm:w-5 text-neonCyan flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-xs sm:text-sm text-gray-300",children:["Database: ",(0,t.jsx)("span",{className:"text-neonCyan font-medium",children:"Connected"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.CreditCard,{className:"h-4 sm:h-5 w-4 sm:w-5 text-neonPink flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-xs sm:text-sm text-gray-300",children:["Yoco: ",(0,t.jsx)("span",{className:"text-neonPink font-medium",children:"Active"})]})]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString()]})]})})})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:(0,t.jsxs)(r.Card,{className:"bg-gray-900/50 border-red-500/30 backdrop-blur-xl shadow-2xl",children:[(0,t.jsx)(r.CardHeader,{className:"pb-4",children:(0,t.jsxs)(r.CardTitle,{className:"text-red-400 text-xl flex items-center gap-2",children:[(0,t.jsx)(d.Shield,{className:"h-5 w-5"}),"Access Denied"]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("p",{className:"text-gray-300",children:"You need admin privileges to access this page."})})]})})}e.s(["default",()=>t1],672906)}]);

//# debugId=81eb0e94-bbb6-873b-ab5e-335b4305a031
//# sourceMappingURL=0b77fc389a1edf4d.js.map