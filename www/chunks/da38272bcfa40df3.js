;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7b2876bd-dc66-6d69-15ca-85aceba86532")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56060,e=>{"use strict";var t=e.i(390676);let r="pizza add-ons",a=e=>e.filter(e=>!e.name.toLowerCase().includes(r)),n=(e,t)=>{let a=t.find(e=>e.name.toLowerCase().includes(r));return a?e.filter(e=>e.category_id!==a.id):e};class l{cache=new Map;DEFAULT_TTL=3e5;set(e,t,r=this.DEFAULT_TTL){this.cache.set(e,{data:t,timestamp:Date.now(),ttl:r})}get(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):t.data:null}clear(){this.cache.clear()}delete(e){this.cache.delete(e)}}let s=new l,i=(0,t.getSupabaseClient)();class o{static instance;static getInstance(){return o.instance||(o.instance=new o),o.instance}constructor(){}async testConnection(){try{let{error:e}=await i.from("menu_categories").select("id").limit(1);if(e)return{success:!1,error:e.message};return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async getCategories(e=!0,t=!1){let r=t?"categories-all":"categories-customer";try{if(e){let e=s.get(r);if(e)return{data:e,error:null,loading:!1}}let{data:n,error:l}=await i.from("menu_categories").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(l)return{data:null,error:l.message,loading:!1};let o=n||[];return t||(o=a(o)),s.set(r,o),{data:o,error:null,loading:!1}}catch(e){return{data:null,error:e instanceof Error?e.message:"Failed to load categories",loading:!1}}}async getSections(e=!0){let t="sections";try{if(e){let e=s.get(t);if(e)return{data:e,error:null,loading:!1}}let{data:r,error:a}=await i.from("menu_categories").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(a)return{data:null,error:a.message,loading:!1};let n=r||[];return s.set(t,n),{data:n,error:null,loading:!1}}catch(e){return{data:null,error:e instanceof Error?e.message:"Failed to load sections",loading:!1}}}async getMenuItems(e,t=!0){let r=`menu-items-${e||"all"}`;try{if(t){let e=s.get(r);if(e)return{data:e,error:null,loading:!1}}let a=i.from("menu_items").select("*").eq("is_available",!0);e&&(a=a.eq("category_id",e)),a=a.order("name",{ascending:!0});let{data:n,error:l}=await a;if(l)return{data:null,error:l.message,loading:!1};let o=n||[];return s.set(r,o),{data:o,error:null,loading:!1}}catch(e){return{data:null,error:e instanceof Error?e.message:"Failed to load menu items",loading:!1}}}async getMenuData(e=!0,t=!1){let r=t?"full-menu-data-all":"full-menu-data-customer";try{if(e){let e=s.get(r);if(e)return{data:e,error:null,loading:!1}}let[a,l]=await Promise.all([this.getCategories(!1,t),this.getMenuItems(void 0,!1)]);if(a.error)return{data:null,error:a.error,loading:!1};if(l.error)return{data:null,error:l.error,loading:!1};let i=a.data||[],o=l.data||[];t||(o=n(o,i));let c={categories:i,menuItems:o};return s.set(r,c),{data:c,error:null,loading:!1}}catch(e){return{data:null,error:e instanceof Error?e.message:"Failed to load menu data",loading:!1}}}clearCache(){s.clear()}clearCacheEntry(e){s.delete(e)}}let c=o.getInstance();e.s(["DataClient",()=>o,"dataClient",0,c,"filterCustomerCategories",0,a,"filterCustomerMenuItems",0,n])}]);

//# debugId=7b2876bd-dc66-6d69-15ca-85aceba86532
//# sourceMappingURL=9d6c938684bd4734.js.map